{"title":"18)ğŸ Swift - ë‹¤ìš´ìƒ˜í”Œë§","uid":"dd29b53b3fa8ec1be54827ce6b92cee8","slug":"Swift/2022-12-27-Swift18","date":"2022-12-26T15:00:00.000Z","updated":"2023-03-31T10:46:00.205Z","comments":true,"path":"api/articles/Swift/2022-12-27-Swift18.json","keywords":null,"cover":[],"content":"<h1 id=\"ë‹¤ìš´ìƒ˜í”Œë§ìœ¼ë¡œ-ë©”ëª¨ë¦¬-íš¨ìœ¨ì ì¸-ì´ë¯¸ì§€-ì²˜ë¦¬í•˜ê¸°\"><a href=\"#ë‹¤ìš´ìƒ˜í”Œë§ìœ¼ë¡œ-ë©”ëª¨ë¦¬-íš¨ìœ¨ì ì¸-ì´ë¯¸ì§€-ì²˜ë¦¬í•˜ê¸°\" class=\"headerlink\" title=\"ë‹¤ìš´ìƒ˜í”Œë§ìœ¼ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ì´ë¯¸ì§€ ì²˜ë¦¬í•˜ê¸°\"></a>ë‹¤ìš´ìƒ˜í”Œë§ìœ¼ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ì´ë¯¸ì§€ ì²˜ë¦¬í•˜ê¸°</h1><p>ì´ì „ ê²Œì‹œë¬¼ì—ì„œ ì•Œì•„ë³´ì•˜ë˜ <code>PHPicker</code>ë¥¼ ì‚¬ìš©í•´ì„œ ì´ë¯¸ì§€ë¥¼ ì²˜ë¦¬í•˜ë˜ ì¤‘ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ë¥¼ ë§ˆì£¼ì³¤ìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://i.imgur.com/PIZF0mw.png\"></p>\n<p>Swiftê°€ í—ˆìš©í•œ 4,194,304 ë°”ì´íŠ¸ë³´ë‹¤ í° ë°ì´í„°ë¥¼ UserDefaultsì— ì €ì¥í•  ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ì…ë‹ˆë‹¤.</p>\n<p>UserDefaultsëŠ” ì‘ì€ ë°ì´í„°ë“¤ì„ ì €ì¥í•  ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ê²ƒì´ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì€ ì—ëŸ¬ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ í˜„ìƒì¸ ë“¯ í•©ë‹ˆë‹¤.</p>\n<p>ì§€ê¸ˆ ì €ì¥í•˜ë ¤ëŠ” ì´ë¯¸ì§€ëŠ” ì›ë³¸ ì´ë¯¸ì§€ ê·¸ ìì²´ì˜€ìœ¼ë‹ˆ ë‹¹ì—°íˆ ìš©ëŸ‰ì´ ì»¸ì„ ê²ƒì´ê³ , ì´ë¯¸ì§€ì˜ ìš©ëŸ‰ì„ ì¤„ì´ë ¤ë©´ ë³´í†µ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì¤„ì´ê² ë‹¤ëŠ” ìƒê°ë¶€í„° í•˜ê² ì£ ?</p>\n<p><strong>ì´ë¯¸ì§€ í¬ê¸°ì˜ ì¶•ì†Œ</strong>ëŠ” ê°€ì¥ ì§ê´€ì ìœ¼ë¡œ ì´ë¯¸ì§€ ìš©ëŸ‰ì„ ì¤„ì´ê³  ë©”ëª¨ë¦¬ ê°€ìš©ë¥ ë„ ë†’ì´ëŠ” ì¢‹ì€ ë°©ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ì €ë„ ì´ë¯¸ì§€ë¥¼ ì¤„ì¼ ìˆ˜ ìˆëŠ” ë°©ë²•ë¶€í„° ì°¾ì•„ë³´ê²Œ ë˜ì—ˆì£ .</p>\n<h2 id=\"ì´ë¯¸ì§€-ë¦¬ì‚¬ì´ì¦ˆì‹œì˜-CPUì™€-ë©”ëª¨ë¦¬-ë™ì‘\"><a href=\"#ì´ë¯¸ì§€-ë¦¬ì‚¬ì´ì¦ˆì‹œì˜-CPUì™€-ë©”ëª¨ë¦¬-ë™ì‘\" class=\"headerlink\" title=\"ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆì‹œì˜ CPUì™€ ë©”ëª¨ë¦¬ ë™ì‘\"></a>ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆì‹œì˜ CPUì™€ ë©”ëª¨ë¦¬ ë™ì‘</h2><p>í•˜ì§€ë§Œ ê³µë¶€ë¥¼ í•œ ì§€ ì–¼ë§ˆ ì§€ë‚˜ì§€ ì•Šì•„ ë‹¨ìˆœíˆ ì´ë¯¸ì§€ë¥¼ ì¤„ì´ëŠ” ë°©ë²•ì€ ì¢‹ì€ ë°©ë²•ì´ ì•„ë‹ˆê³ , ì˜¤íˆë ¤ ì•±ì´ ê¸°ê¸°ì— ê³¼ë¶€í•˜ë¥¼ ë” ì¤„ ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤.</p>\n<p>ê·¸ ê¹Œë‹­ì€ 2018ë…„ì— ì§„í–‰ëœ WWDC2018ì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<p><a href=\"https://developer.apple.com/wwdc18/219\">Image and Graphics Best Practices - WWDC18 - Videos - Apple Developer</a></p>\n<p>ì´ë¯¸ ì´ë¯¸ì§€ ì²˜ë¦¬ ê²Œì‹œë¬¼ë“¤ì—ì„œ ë§ì´ ë‹¤ë£¨ê³  ìˆê³  iOSì˜ í™”ë©´ í‘œí˜„ ë°©ë²•ì„ í•™ìŠµí•´ë³¼ ìˆ˜ ìˆëŠ” ì„¸ì…˜ì…ë‹ˆë‹¤.</p>\n<p>ì•„ë˜ëŠ” <code>UIGraphicsImageRenderer</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ <code>PHPicker</code>ë¥¼ í†µí•´ ë°›ì€ ì´ë¯¸ì§€ ì—¬ëŸ¬ê°œì˜ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ì½”ë“œì…ë‹ˆë‹¤.</p>\n<p><img src=\"https://i.imgur.com/qZZB9BM.png\"></p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">var images: [UIImage] &#x3D; []\n\nvar result in results &#123;\n\tresult.itemProvider.loadObject(ofClass: UIImage.self) &#123; object, error in\n\t\tguard let image &#x3D; object as? UIImage else &#123; return &#125;\n\t\tguard let resizedImage: UIImage &#x3D; UIGraphicsImageRenderer(size: CGSize(width: 2_000, height: 2_000)).image &#123; context in\n\t\t\timage.draw(in: CGRect(origin: CGPoint.zero, size: newSize))\n\t\t&#125; else &#123; return &#125;\n\t\timages.append(resizedImage)\n\t&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ë‹¨ìˆœíˆ ë³´ê¸°ì—ëŠ” ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ì–´ë³´ì´ì£ .</p>\n<p>ë¬¸ì œëŠ” ë‘ ë²ˆì— ê±¸ì³ì„œ ë°œìƒí•©ë‹ˆë‹¤.</p>\n<h3 id=\"1-ì›ë³¸ì„-ë¡œë“œí•œë‹¤\"><a href=\"#1-ì›ë³¸ì„-ë¡œë“œí•œë‹¤\" class=\"headerlink\" title=\"1. ì›ë³¸ì„ ë¡œë“œí•œë‹¤.\"></a>1. ì›ë³¸ì„ ë¡œë“œí•œë‹¤.</h3><pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">guard let image &#x3D; object as? UIImage else &#123; return &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>ì²« ë²ˆì§¸ ë¬¸ì œì…ë‹ˆë‹¤.</p>\n<p>ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆë¥¼ ì¤„ì´ëŠ” ëª©ì ì´ ë¬´ì—‡ì´ì˜€ë‚˜ìš”?</p>\n<p>ë©”ëª¨ë¦¬ì— ë¶€í•˜ë¥¼ ëœ ì£¼ê¸° ìœ„í•´ì„œì˜€ì£ .</p>\n<p>ìœ„ ë°©ë²•ì€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë§Œ ëœë‹¤ë©´ ê·¸ ì´í›„ì—ëŠ” ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ì„ ë‚®ì¶°ì¤„ê²ë‹ˆë‹¤.</p>\n<p>ê·¸ëŸ°ë° ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì¤„ì´ê¸° ìœ„í•´ì„œ ìš°ì„  ì›ë³¸ ì´ë¯¸ì§€ë¥¼ í•œ ë²ˆ ë¡œë“œí•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>ê·¸ í•œ ë²ˆ ë¡œë“œí•˜ëŠ” ê³¼ì •ì—ì„œ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ë“¤ì„ ì¢…ë£Œì‹œí‚¤ê±°ë‚˜ ì‹¬í•˜ë©´ ì•± ìì²´ë¥¼ ì¢…ë£Œì‹œí‚¤ëŠ” í˜„ìƒì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì‹¤ì œë¡œ ìœ„ ì½”ë“œë§Œ ë´ë„ <code>PHPicker</code>ëŠ” ì„ íƒí•œ ë°ì´í„°ë¥¼ <code>UIImage</code> íƒ€ì…ìœ¼ë¡œì„œ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>\n<p>êµ³ì´ í¬ê¸°ê°€ í° ê·¸ ë°ì´í„°ë¥¼ ì•„ë¬´ëŸ° ì²˜ë¦¬ ì—†ì´ <code>UIImage</code>ë¡œ ë°”ë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©í•˜ê³  ìˆì—ˆë˜ ê²ƒì´ì£ !</p>\n<h3 id=\"2-ì‘ì€-ì´ë¯¸ì§€ë¥¼-ì§ì ‘-ê·¸ë¦°ë‹¤\"><a href=\"#2-ì‘ì€-ì´ë¯¸ì§€ë¥¼-ì§ì ‘-ê·¸ë¦°ë‹¤\" class=\"headerlink\" title=\"2. ì‘ì€ ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ê·¸ë¦°ë‹¤.\"></a>2. ì‘ì€ ì´ë¯¸ì§€ë¥¼ <strong>ì§ì ‘ ê·¸ë¦°ë‹¤</strong>.</h3><pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">image.draw(in: CGRect(origin: .zero, size: newSize))<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>ë‘ ë²ˆì§¸ ë¬¸ì œì…ë‹ˆë‹¤.</p>\n<p>ìœ„ ë°©ë²•ì€ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì™€ ê·¸ ì´ë¯¸ì§€ì˜ ì‘ì€ ë²„ì „ì„ <code>draw</code> ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì§ì ‘ ê·¸ë ¤ì¤˜ì•¼ í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.</p>\n<p>ê·¸ë˜í”½ ì‘ì—…ì„ í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— CPUì™€ ë©”ëª¨ë¦¬ ë‘ í•˜ë“œì›¨ì–´ ëª¨ë‘ì—ê²Œ ì‘ì—…ì„ ë¶€ì—¬í•˜ëŠ” ê²ƒì´ê³ , ì´ ë˜í•œ ë©”ëª¨ë¦¬ ë¶€í•˜ë¥¼ ì¤„ì´ëŠ” ê²ƒê³¼ëŠ” ê±°ë¦¬ê°€ ë¨¼ ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2 id=\"ë‹¤ìš´-ìƒ˜í”Œë§\"><a href=\"#ë‹¤ìš´-ìƒ˜í”Œë§\" class=\"headerlink\" title=\"ë‹¤ìš´ ìƒ˜í”Œë§\"></a>ë‹¤ìš´ ìƒ˜í”Œë§</h2><p>ê·¸ëŸ¬ë©´ ë‹¨ìˆœíˆ ì´ë¯¸ì§€ë¥¼ ë¦¬ì‚¬ì´ì§• í•˜ëŠ” ë°©ë²• ì™¸ì— ì–´ë–¤ ë°©ë²•ì´ ìˆì„ê¹Œìš”?</p>\n<p><img src=\"https://i.imgur.com/QEsP6KF.png\"></p>\n<p>ë°”ë¡œ ë°ì´í„°ë¥¼ <code>UIImage</code>ë¡œ ë°”ë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ <code>CGImage</code> íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë””ì½”ë”©í•  íŒŒì¼(data buffer) ìì²´ì˜ ì‚¬ì´ì¦ˆë¥¼ ì¤„ì´ëŠ” ë‹¤ìš´ìƒ˜í”Œë§ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë‹¤ë§Œ ì´ ë°©ë²•ì€ <code>Core Graphics</code>ì´ë¼ëŠ” í•œ ì¸µ ë” low-levelí•œ ë‚´ìš©ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì½”ë“œê°€ ì¢€ ë” ê¸¸ê³  ë³µì¡í•©ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">func downsample(at url: URL, to pointSize: CGSize, scale: CGFloat) -&gt; Data? &#123;\n\n\tlet sourceOptions &#x3D; [kCGImageSourceShouldCache: false] as CFDictionary\n\n\tguard let source &#x3D; CGImageSourceCreateWithURL(url as CFURL, sourceOptions) else &#123; return nil &#125;\n\n\tlet maxDimensionInPixels &#x3D; max(pointSize.width, pointSize.height) * scale\n\n\tlet downsampleOptions &#x3D; [\n\t\tkCGImageSourceCreateThumbnailFromImageAlways: true,\n\t\tkCGImageSourceCreateThumbnailWithTransform: true,\n\t\tkCGImageSourceThumbnailMaxPixelSize: maxDimensionInPixels\n\t] as CFDictionary\n\n\tguard let cgImage &#x3D; CGImageSourceCreateThumbnailAtIndex(source, 0, downsampleOptions) else &#123; return nil &#125;\n\n\tlet data &#x3D; NSMutableData()\n\n\tguard let imageDestination &#x3D; CGImageDestinationCreateWithData(data, UTType.jpeg.identifier as CFString, 1, nil) else &#123; return nil &#125;\n\n\tlet isPNG: Bool &#x3D; &#123;\n\t\tguard let utType &#x3D; cgImage.utType else &#123; return false &#125;\n\t\treturn (utType as String) &#x3D;&#x3D; UTType.png.identifier\n\t&#125;()\n\n\tlet destinationProperties &#x3D; [\n\t\tkCGImageDestinationLossyCompressionQuality: isPNG ? 1.0 : 0.75\n\t] as CFDictionary\n\n\tCGImageDestinationAddImage(imageDestination, cgImage, destinationProperties)\n\tCGImageDestinationFinalize(imageDestination)\n\n\treturn data as Data\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ì–´ì§ˆì–´ì§ˆí•˜ì¥¬..? ğŸ˜µ</p></blockquote>\n<p>ë³µì¡í•´ ë³´ì´ì§€ë§Œ ë‘ íŒŒíŠ¸ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•œ ë²ˆ ì‚´í´ë´…ì‹œë‹¤.</p>\n<h3 id=\"1-CGImage-ìƒì„±\"><a href=\"#1-CGImage-ìƒì„±\" class=\"headerlink\" title=\"1. CGImage ìƒì„±\"></a>1. <strong>CGImage</strong> ìƒì„±</h3><pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">let sourceOptions &#x3D; [kCGImageSourceShouldCache: false] as CFDictionary\nguard let source &#x3D; CGImageSourceCreateWithURL(url as CFURL, sourceOptions) else &#123; return nil &#125;\n\nlet maxDimensionInPixels &#x3D; max(pointSize.width, pointSize.height) * scale\nlet downsampleOptions &#x3D; [\n\tkCGImageSourceCreateThumbnailFromImageAlways: true,  \n\tkCGImageSourceShouldCacheImmediately: true,\n\tkCGImageSourceCreateThumbnailWithTransform: true,\n\tkCGImageSourceThumbnailMaxPixelSize: maxDimensionInPixels\n] as CFDictionary\n\nguard let cgImage &#x3D; CGImageSourceCreateThumbnailAtIndex(source, 0, downsampleOptions) else &#123; return nil &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>downsamplingì˜ í•µì‹¬ì´ ë˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.</p>\n<p>ì‚¬ì‹¤ìƒ í•„ìˆ˜ì ì¸ ë¡œì§ë“¤ì€ ì´ ì•ˆì— ë‹¤ ìˆìŠµë‹ˆë‹¤.</p>\n<p>Option flagë¥¼ ì •ì˜í•´ì£¼ê³  í•´ë‹¹ ì˜µì…˜ì„ í†µí•´ <code>CGImage</code>ë¥¼ ìƒì„±í•´ì£¼ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.</p>\n<ul>\n<li><code>kCGImageSourceShouldCache: false</code><ul>\n<li>ì´ë¯¸ì§€ ì†ŒìŠ¤ì—  ëŒ€í•œ ì°¸ì¡°ê°’ë§Œì„ ìƒì„±í•˜ê³  <code>CGImageSource</code>ê°€ ìƒì„±ë˜ëŠ” ì¦‰ì‹œ ë””ì½”ë”©ì„ ì§„í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li><code>kCGImageSourceShouldCacheImmediately: true</code><ul>\n<li>ì•ì„  ì˜µì…˜ê³¼ëŠ” ë°˜ëŒ€ë¡œ ë‹¤ìš´ìƒ˜í”Œë§ ë¡œì§ì´ ì‹œì‘ë¨ê³¼ ë™ì‹œì— ë””ì½”ë”© ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li><code>kCGImageSourceCreateThumbnailWithTransform: true</code><ul>\n<li>ë‹¤ìš´ìƒ˜í”Œë§ëœ ì´ë¯¸ì§€ë¥¼ ì›ë³¸ ì´ë¯¸ì§€ì™€ ê°™ì€ í˜•íƒœë¥¼ ê°–ë„ë¡ í•©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"2-PNG-í€„ë¦¬í‹°-ë³´ì¡´\"><a href=\"#2-PNG-í€„ë¦¬í‹°-ë³´ì¡´\" class=\"headerlink\" title=\"2. PNG í€„ë¦¬í‹° ë³´ì¡´\"></a>2. PNG í€„ë¦¬í‹° ë³´ì¡´</h3><pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">let data &#x3D; NSMutableData()\n\nguard let imageDestination &#x3D; CGImageDestinationCreateWithData(data, UTType.jpeg.identifier as CFString, 1, nil) else &#123; return nil &#125;\n\nlet isPNG: Bool &#x3D; &#123;\n\tguard let utType &#x3D; cgImage.utType else &#123; return false &#125;\n\treturn (utType as String) &#x3D;&#x3D; UTType.png.identifier\n&#125;()\n\nlet destinationProperties &#x3D; [\n\tkCGImageDestinationLossyCompressionQuality: isPNG ? 1.0 : 0.75\n] as CFDictionary\n\nCGImageDestinationAddImage(imageDestination, cgImage, destinationProperties)\nCGImageDestinationFinalize(imageDestination)\n\nreturn data as Data<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì´ ë¶€ë¶„ì€ ì‚¬ì‹¤ ì„ íƒì ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ ë˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.</p>\n<p><code>PNG</code> í™•ì¥ìëŠ” ë³´í†µ ìŠ¤í¬ë¦°ìƒ·ê³¼ ê°™ì´ ì´ë¯¸ì§€ì˜ í’ˆì§ˆì´ ì¤‘ìš”í•œ ì´ë¯¸ì§€ë“¤ì— ì‚¬ìš©ë©ë‹ˆë‹¤.</p>\n<p>ì´ëŸ¬í•œ ì´ë¯¸ì§€ì˜ í’ˆì§ˆì´ ì†ìƒëœë‹¤ë©´ ì´ë¯¸ì§€ì— í¬í•¨ëœ í…ìŠ¤íŠ¸ ë“±ì˜ ì‹œì¸ì„±, ê°€ë…ì„±ì´ ì¤‘ìš”í•œ ìš”ì†Œë“¤ì— ì˜í–¥ì´ ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><code>PNG</code> í™•ì¥ìë¼ë©´ 1.0ì˜ ì†ìƒ ì—†ëŠ” ì••ì¶•ì„, ê·¸ ì™¸ì˜ í™•ì¥ìë¼ë©´ 0.75ì˜ ì••ì¶•ë¥ ë¡œ ë°ì´í„°ë¥¼ ë””ì½”ë”©í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<h4 id=\"PHPickerì™€ì˜-ì‚¬ìš©\"><a href=\"#PHPickerì™€ì˜-ì‚¬ìš©\" class=\"headerlink\" title=\"PHPickerì™€ì˜ ì‚¬ìš©\"></a><code>PHPicker</code>ì™€ì˜ ì‚¬ìš©</h4><p>ì´ì „ <code>PHPicker</code>ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">itemProvider.loadObject(ofClass: UIImage.self) &#123; image, error in\n\t&#x2F;&#x2F; do something\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>ì´ë²ˆ ê²Œì‹œë¬¼ì—ì„œ ì‚¬ìš©í•œ ë°©ë²•ì€ <code>URL</code> íƒ€ì…ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë°›ê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">itemProvider.loadFileRepresentation(forTypeIdentifier: UTType.image.identifier) &#123; url, error in\n\t&#x2F;&#x2F; do something\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n","text":"ë‹¤ìš´ìƒ˜í”Œë§ìœ¼ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ì´ë¯¸ì§€ ì²˜ë¦¬í•˜ê¸°ì´ì „ ê²Œì‹œë¬¼ì—ì„œ ì•Œì•„ë³´ì•˜ë˜ PHPickerë¥¼ ì‚¬ìš©í•´ì„œ ì´ë¯¸ì§€ë¥¼ ì²˜ë¦¬í•˜ë˜ ì¤‘ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ë¥¼ ë§ˆì£¼ì³¤ìŠµë‹ˆë‹¤. Swiftê°€ í—ˆìš©í•œ 4,194,304 ë°”ì´íŠ¸ë³´ë‹¤ í° ë°ì´í„°ë¥¼ UserDefaultsì— ì €ì¥í•  ìˆ˜ ...","link":"","photos":[],"count_time":{"symbolsCount":"5.8k","symbolsTime":"5 mins."},"categories":[{"name":"Swift","slug":"Swift","count":30,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":78,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":78,"path":"api/tags/iOS.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%EB%8B%A4%EC%9A%B4%EC%83%98%ED%94%8C%EB%A7%81%EC%9C%BC%EB%A1%9C-%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9D%B8-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\"><span class=\"toc-text\">ë‹¤ìš´ìƒ˜í”Œë§ìœ¼ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ì´ë¯¸ì§€ ì²˜ë¦¬í•˜ê¸°</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%A6%AC%EC%82%AC%EC%9D%B4%EC%A6%88%EC%8B%9C%EC%9D%98-CPU%EC%99%80-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%8F%99%EC%9E%91\"><span class=\"toc-text\">ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆì‹œì˜ CPUì™€ ë©”ëª¨ë¦¬ ë™ì‘</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%EC%9B%90%EB%B3%B8%EC%9D%84-%EB%A1%9C%EB%93%9C%ED%95%9C%EB%8B%A4\"><span class=\"toc-text\">1. ì›ë³¸ì„ ë¡œë“œí•œë‹¤.</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%EC%9E%91%EC%9D%80-%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A5%BC-%EC%A7%81%EC%A0%91-%EA%B7%B8%EB%A6%B0%EB%8B%A4\"><span class=\"toc-text\">2. ì‘ì€ ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ê·¸ë¦°ë‹¤.</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%EB%8B%A4%EC%9A%B4-%EC%83%98%ED%94%8C%EB%A7%81\"><span class=\"toc-text\">ë‹¤ìš´ ìƒ˜í”Œë§</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-CGImage-%EC%83%9D%EC%84%B1\"><span class=\"toc-text\">1. CGImage ìƒì„±</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-PNG-%ED%80%84%EB%A6%AC%ED%8B%B0-%EB%B3%B4%EC%A1%B4\"><span class=\"toc-text\">2. PNG í€„ë¦¬í‹° ë³´ì¡´</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#PHPicker%EC%99%80%EC%9D%98-%EC%82%AC%EC%9A%A9\"><span class=\"toc-text\">PHPickerì™€ì˜ ì‚¬ìš©</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}},"mapped":true,"prev_post":{"title":"19)ğŸ Swift - RxFlow.01","uid":"908b0e0d798be07b2105b3cfcc4b1431","slug":"Swift/2023-01-27-Swift19","date":"2023-01-26T15:00:00.000Z","updated":"2023-03-31T10:45:56.443Z","comments":true,"path":"api/articles/Swift/2023-01-27-Swift19.json","keywords":null,"cover":[],"text":"RxFlowFavor í”„ë¡œì íŠ¸ëŠ” ReactorKitì„ ì‚¬ìš©í•˜ì—¬ MVVM-CíŒ¨í„´ì— RxSwiftë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì €í¬ í”„ë¡œì íŠ¸ì—ì„œ Reactiveí•˜ì§€ ëª»í•œ ë¶€ë¶„ì´ í•˜ë‚˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë°”ë¡œ Coordinator ë¶€ë¶„ì¸ë°ìš”.. í•˜ìœ„ C...","link":"","photos":[],"count_time":{"symbolsCount":"7.4k","symbolsTime":"7 mins."},"categories":[{"name":"Swift","slug":"Swift","count":30,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":78,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":78,"path":"api/tags/iOS.json"},{"name":"Favor","slug":"Favor","count":6,"path":"api/tags/Favor.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}}},"next_post":{"title":"17)ğŸ Swift - Property Wrapper","uid":"d307c77550c3e506aba3109e585568f0","slug":"Swift/2022-12-26-Swift17","date":"2022-12-25T15:00:00.000Z","updated":"2023-03-31T10:43:12.067Z","comments":true,"path":"api/articles/Swift/2022-12-26-Swift17.json","keywords":null,"cover":null,"text":"Property Wrapperì˜¤ëŠ˜ì€ UserDefaultsë¥¼ ì–´ë–»ê²Œ í•˜ë©´ ì¡°ê¸ˆì´ë¼ë„ ë” í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œ ê³ ë¯¼í•˜ë‹¤ê°€ ì•„ì£¼ ì¢‹ì€ ì¹œêµ¬ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ë°”ë¡œ Property Wrapperë¼ëŠ” ì¹œêµ¬ì¸ë°ìš”. ì´ ì¹œêµ¬ëŠ” SwiftUIì™€ Combineì˜ ...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"Swift","slug":"Swift","count":30,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":78,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":78,"path":"api/tags/iOS.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}}}}