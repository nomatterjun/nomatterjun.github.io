{"title":"23)ğŸ Swift - RxSwift Traits","uid":"2f437dcacf2ab858ae6b89a9091808ec","slug":"Swift/2023-02-23-Swift23","date":"2023-02-22T15:00:00.000Z","updated":"2023-03-31T10:45:36.146Z","comments":true,"path":"api/articles/Swift/2023-02-23-Swift23.json","keywords":null,"cover":null,"content":"<h1 id=\"Traits\"><a href=\"#Traits\" class=\"headerlink\" title=\"Traits\"></a>Traits</h1><p><code>Traits</code>ëŠ” <code>Observable</code>ì˜ í•œ ì¢…ë¥˜ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>TraitsëŠ” UI ì˜ì—­ì—ì„œ ë³µì¡í•˜ê³  ë‹¤ì–‘í•œ ê¸°ëŠ¥ì´ ìˆëŠ” <code>Observable</code> ëŒ€ì‹  ì‚¬ìš©ë˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.</p>\n<p>ë”°ë¼ì„œ RxCocoaì™€ ì•„ì£¼ ë°€ì ‘í•œ ê´€ë ¨ì´ ìˆì§€ë§Œ, ëª‡ëª‡ ê¸°ëŠ¥ë“¤ì€ RxSwift ì „ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— RxSwiftì™€ RxCocoaì— ë‚˜ëˆ„ì–´ êµ¬í˜„ë˜ì—ˆë‹¤ê³  í•©ë‹ˆë‹¤.</p>\n<h3 id=\"ë“±ì¥-ì´ìœ \"><a href=\"#ë“±ì¥-ì´ìœ \" class=\"headerlink\" title=\"ë“±ì¥ ì´ìœ \"></a>ë“±ì¥ ì´ìœ </h3><p>Traitsë¥¼ ì™œ ì‚¬ìš©í•´ì•¼í•˜ëŠ”ì§€ë¶€í„° ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<p>TraitsëŠ” <code>Observable</code> ì‹œí€€ìŠ¤ê°€ ì•ˆì „í•˜ê²Œ í†µì‹ ë  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.</p>\n<p>ëª¨ë“  ë°©ë©´ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” <code>Observable</code>ì„ ëŒ€ì‹ í•˜ì—¬ UI ì²˜ë¦¬ì— íŠ¹í™”ëœ ê¸°ëŠ¥ê³¼ ë¬¸ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.</p>\n<p>ë”°ë¼ì„œ TraitsëŠ” <code>Observable</code>ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì˜ ì¼ë¶€ë¥¼ ë–¼ì–´ë‚¸ ê²ƒê³¼ ë‹¤ë¦„ì—†ê¸° ë•Œë¬¸ì— ì‚¬ìš©í• ì§€ ë§ì§€ì˜ ì—¬ë¶€ëŠ” ì‚¬ìš©ìì—ê²Œ ë‹¬ë ¤ìˆë‹¤ê³  í•©ë‹ˆë‹¤!</p>\n<h3 id=\"ê¸°ë³¸-ê°œë…\"><a href=\"#ê¸°ë³¸-ê°œë…\" class=\"headerlink\" title=\"ê¸°ë³¸ ê°œë…\"></a>ê¸°ë³¸ ê°œë…</h3><p>TraitsëŠ” ë‹¨ìˆœíˆ í•˜ë‚˜ì˜ <code>read-only</code>í•œ <code>Observable</code>ì„ ê°ì‹¸ê³  ìˆëŠ” <code>struct</code>ì…ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">struct Single&lt;Element&gt; &#123;\n\tlet source: Observable&lt;Element&gt;\n&#125;\n\nstruct Driver&lt;Element&gt; &#123;\n\tlet source: Observable&lt;Element&gt;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Traitsë¥¼ <code>Observable</code>ë¡œ ëŒë ¤ë†“ê³  ì‹¶ì„ ë•ŒëŠ” <code>.asObservable()</code>ë¡œ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2 id=\"RxSwift-Traits\"><a href=\"#RxSwift-Traits\" class=\"headerlink\" title=\"RxSwift Traits\"></a>RxSwift Traits</h2><h3 id=\"Single\"><a href=\"#Single\" class=\"headerlink\" title=\"Single\"></a>Single</h3><p>Singleì€ ë¬´ì¡°ê±´ í•˜ë‚˜ì˜ ê°’ ë˜ëŠ” ì—ëŸ¬ë¥¼ ë°©ì¶œí•©ë‹ˆë‹¤.</p>\n<p>ì§€ì†ì ì¸ ê°’ì´ ì•„ë‹ˆë¼ ë”± í•œ ë²ˆì˜ ê²°ê³¼ê°’ì´ í•„ìš”í•  ë–„ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>\n<p>í•œ ë²ˆì˜ ê°’ë§Œì„ ë°©ì¶œí•˜ê¸° ë–„ë¬¸ì— <code>.completed</code>ê°€ ì—†ìŠµë‹ˆë‹¤.</p>\n<p>ì‚¬ìš©ë˜ê¸° ê°€ì¥ ì¢‹ì€ ê³³ì€ HTTP í†µì‹ ì„ í•  ë•Œì´ë©°, requestì— í•˜ë‚˜ì˜ ì‘ë‹µë§Œì´ ëŒì•„ì˜¬ ë•Œ ì‚¬ìš©í•˜ë©´ ìœ ìš©í•©ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">func getRepo(_ repo: String) -&gt; Single&lt;[String: Any]&gt; &#123;\n\treturn Single&lt;[String: Any]&gt;.create &#123; single in\n\t\tlet task &#x3D; URLSession.dataTask(with: URL(string: &quot;https:&#x2F;&#x2F;api.github.com&#x2F;\\(repo)&quot;)! &#123; data, _, error in\n\t\t\tif let error &#123;\n\t\t\t\tsingle(.failure(error))\n\t\t\t\treturn\n\t\t\t&#125;\n\n\t\t\tguard let data,\n\t\t\t\tlet json &#x3D; try? JSONSerialization.jsonObject(with: data, option: .mutableLeaves),\n\t\t\t\tlet result &#x3D; json as? [String: Any] else &#123;\n\t\t\t\t\tsingle(.failure(DataError.cantParseJSON))\n\t\t\t\t\treturn\t  \n\t\t\t&#125;\n\n\t\t\tsingle(.success(result))\n\t\t&#125;\n\t\ttask.resume()\n\n\t\treturn Disposables.create &#123; task.cancel() &#125;\n\t&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">getRepo(&quot;ReactiveX&#x2F;RxSwift&quot;)\n\t.subscribe(onSuccess: &#123; json in\n\t\t\tprint(&quot;JSON: &quot;, json)\n\t\t&#125;,\n\t\tonError: &#123; error in\n\t\t\tprint(&quot;Error: &quot;, error)\n\t\t&#125;)\n\t.disposed(by: self.disposeBag)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Completable\"><a href=\"#Completable\" class=\"headerlink\" title=\"Completable\"></a>Completable</h3><p>Completableì€ <code>.completed</code>ë‚˜ <code>.error</code>ë§Œì„ ë°©ì¶œí•©ë‹ˆë‹¤.</p>\n<p>í•œë§ˆë””ë¡œ ê°’(<code>element</code>)ì„ ë°©ì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>\n<p>ì‘ì—…ì˜ ë‚´ìš©ì€ ì¤‘ìš”í•˜ì§€ ì•Šê³ , ì„±ê³µ&#x2F;ì‹¤íŒ¨ ì—¬ë¶€ë§Œ ì¤‘ìš”í•œ ê²½ìš°ì— ì‚¬ìš©ë©ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">func cacheLocally() -&gt; Completable &#123;\n\treturn Completable.create &#123; completable in\n\t\tguard success else &#123;\n\t\t\tcompletable(.error(CacheError.failedCaching))\n\t\t\treturn Disposables.create &#123; &#125;\n\t\t&#125;\n\n\t\tcompletable(.completed)\n\t\treturn Disposables.create &#123; &#125;\n\t&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">cacheLocally()\n\t.subscribe(onCompleted: &#123;\n\t\tprint(&quot;Completed with no error.&quot;)\n\t&#125;,\n\tonError: &#123; error in\n\t\tprint(&quot;Completed with an error: \\(error.localizedDescription)&quot;)\n\t&#125;)\n\t.disposed(by: self.disposebag)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Maybe\"><a href=\"#Maybe\" class=\"headerlink\" title=\"Maybe\"></a>Maybe</h3><p>MaybeëŠ” Singleê³¼ Completableì˜ ì¤‘ê°„ì— ìˆëŠ” Traitì…ë‹ˆë‹¤.</p>\n<p>í•˜ë‚˜ì˜ ê°’ì„ ë°©ì¶œí•˜ê±°ë‚˜ ë°©ì¶œ ì—†ì´ <code>.complete</code>ë˜ê±°ë‚˜ <code>.error</code>ë¥¼ ë°©ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">func generateString() -&gt; Maybe&lt;String&gt; &#123;\n\treturn Maybe&lt;String&gt;.create &#123; maybe in\n\t\tmaybe(.success(&quot;RxSwift&quot;))\n\t\t&#x2F;&#x2F; or\n\t\tmaybe(.completed)\n\t\t&#x2F;&#x2F; or\n\t\tmaybe(.error(error))\n\n\t\treturn Disposables.create &#123; &#125;\n\t&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">generateString()\n\t.subscribe(onSuccess: &#123; element in\n\t\tprint(&quot;Completed with element \\(element)&quot;)\n\t&#125;,\n\t.onError &#123; error in\n\t\tprint(&quot;Completed with an error \\(error.localizedDescription)&quot;)\n\t&#125;,\n\tonCompleted: &#123;\n\t\tprint(&quot;Completed with no element&quot;)\n\t&#125;)\n\t.disposed(by: self.disposeBag)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"RxCocoa-Traits\"><a href=\"#RxCocoa-Traits\" class=\"headerlink\" title=\"RxCocoa Traits\"></a>RxCocoa Traits</h2><h3 id=\"Driver\"><a href=\"#Driver\" class=\"headerlink\" title=\"Driver\"></a>Driver</h3><p>ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” Traitì…ë‹ˆë‹¤.</p>\n<p>UI ë ˆì´ì–´ë§Œì„ ìœ„í•´ íŠ¹ë³„í•˜ê²Œ ê°œë°œëœ ê¸°ëŠ¥ì…ë‹ˆë‹¤.</p>\n<p>íŠ¹ì§•ì„ ì •ë¦¬í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>ì—ëŸ¬ê°€ ë°©ì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</li>\n<li><code>observe</code>ê°€ Main Schedulerì—ì„œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.</li>\n<li>side effectë¥¼ ê³µìœ í•©ë‹ˆë‹¤.</li>\n</ul>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">let results &#x3D; query.rx.text\n\t.throttle(.milliseconds(300), scheduler: MainScheduler.instance)\n\t.flatMapLatest &#123; query in\n\t\tfetchAutoCompleteItems(query)\n\t&#125;\n\nresults\n\t.map &#123; &quot;\\($0.count)&quot; &#125;\n\t.bind(to: resultCount.rx.text)\n\t.disposed(by: self.disposeBag)\n\nresults\n\t.bind(to: resultsTableView.rx.items(cellIdentifier: &quot;Cell&quot;)) &#123; _, result, cell in\n\t\tcell.textLabel?.text &#x3D; &quot;\\(result)&quot;\n\t&#125;\n\t.disposed(by: self.disposeBag)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ìœ„ ì˜ˆì‹œëŠ” ì„¸ê°€ì§€ ë¬¸ì œì ë“¤ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<ol>\n<li><code>fetchAutoCompleteItems</code>ê°€ ì—ëŸ¬ë¥¼ ë°©ì¶œí•  ê²½ìš°, UIì— ë°”ì¸ë”©ë˜ì–´ ìˆë˜ ê²ƒë“¤ì´ ëª¨ë‘ unbindë˜ë©´ì„œ ì´í›„ì˜ ì¿¼ë¦¬ë“¤ì— ë” ì´ìƒ UIê°€ ë³€í™”í•˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.</li>\n<li><code>fetchAutoCompleteItems</code>ê°€ ë©”ì¸ì“°ë ˆë“œê°€ ì•„ë‹Œ ë°±ê·¸ë¼ìš´ë“œ ì“°ë ˆë“œì— ê²°ê³¼ë¥¼ ë°˜í™˜í•  ê²½ìš°, UIì— ê²°ê³¼ê°’ì„ ë°”ì¸ë”©í•˜ëŠ” ì‘ì—…ì´ ë°±ê·¸ë¼ìš´ë“œ ì“°ë ˆë“œì—ì„œ ì¼ì–´ë‚  ìˆ˜ ìˆê³ , ì´ëŠ” ì˜ˆê¸°ì¹˜ ì•Šì€ í¬ë˜ì‹œë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n<li>ê²°ê³¼ê°’ì´ ë‘ ê°œì˜ UI ì»´í¬ë„ŒíŠ¸(TableView, UILabel)ì— ë°”ì¸ë”©ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ê°ê°ì´ ë”°ë¡œ HTTP requestë¥¼ ìš”ì²­í•´ ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ìš”ì²­ì´ ë°œìƒí•©ë‹ˆë‹¤.</li>\n</ol>\n<p>ì´ë¥¼ í•´ê²°í•œ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">let results &#x3D; query.rx.text\n\t.throttle(.milliseconds(300), scheduler: MainScheduler.instance)\n\t.flatMapLatest &#123; query in\n\t\tfetchAutoCompleteItems(query)\n\t\t\t.observeOn(MainScheduler.instance)\n\t\t\t.catchErrorJustReturn([])\n\t&#125;\n\t.share(replay: 1)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì˜ˆì‹œì—ì„œëŠ” ì´ëŸ° ê³¼ì •ì´ ì‰¬ìš¸ ìˆ˜ ìˆìœ¼ë‚˜, ì‹¤ì „ì—ì„œ í”„ë¡œì íŠ¸ê°€ ì»¤ì§ì— ë”°ë¼ ì´ëŸ° ì‚¬ì†Œí•œ ë¬¸ì œì ë“¤ì„ ë°œê²¬í•˜ëŠ” ê²ƒì€ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë”°ë¼ì„œ RxCocoaëŠ” ì´ëŸ° ë¬¸ì œë“¤ì„ í•´ê²°í•œ UI ë ˆì´ì–´ ì „ìš©ì˜ Traitì„ ì œê³µí•˜ëŠ”ë°, ê·¸ê²ƒì´ ë°”ë¡œ Driverì¸ ê²ƒ ì…ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">let results &#x3D; query.rx.text.asDriver()\n\t.throttle(.milliseconds(300), scheduler: MainScheduler.instance)\n\t.flatMapLatest &#123; query in\n\t\tfetchAutoCompleteItems(query)\n\t\t\t.asDriver(onErrorJustReturn: [])\n\t&#125;\n\nresults\n\t.map &#123; &quot;\\($0.count)&quot; &#125;\n\t.drive(resultCount.rx.text)\n\t.disposed(by: self.disposeBag)\n\nresults\n\t.drive(resultsTableView.rx.items(cellIdentifier: &quot;Cell&quot;)) &#123; _, result, cell in\n\t\tcell.textLabel?.text &#x3D; &quot;\\(result)&quot;\n\t&#125;\n\t.disposed(by: self.disposeBag)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì´ ì„¸ êµ°ë°ë§Œ ì£¼ëª©í•˜ë©´ ë©ë‹ˆë‹¤!</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>query.rx.text.asDriver()</code>  </p></blockquote>\n<p><code>asDriver</code> ë©”ì„œë“œëŠ” <code>ControlProperty</code>ë¥¼ <code>Driver</code>ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.</p>\n<p><code>Driver</code>ëŠ” <code>ControlProperty</code>ì˜ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ê°–ê¸° ë•Œë¬¸ì— ë”°ë¡œ ì‹ ê²½ì“¸ ë¶€ë¶„ì€ ì—†ì´ ë³€í™˜ë§Œ í•˜ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>.asDriver(onErrorJustReturn: [])</code></p></blockquote>\n<p>ì´ì „ì— ì‚´í´ë´¤ë˜ ë‹¤ìŒ ì„¸ ê°€ì§€ ì¡°ê±´ë§Œ ë§Œì¡±í•œë‹¤ë©´, ì–´ë–¤ <code>Observable</code>ì´ë˜ <code>Driver</code>ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>ì—ëŸ¬ê°€ ë°©ì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</li>\n<li><code>observe</code>ê°€ Main Schedulerì—ì„œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.</li>\n<li>side effectë¥¼ ê³µìœ í•©ë‹ˆë‹¤. (<code>.share(replay:, scope:)</code>)</li>\n</ul>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">let safeSequence &#x3D; xs\n\t.observeOn(MainScheduler.instance)\n\t.catchErrorJustReturn(onErrorJustReturn)\n\t.share(replay: 1, scope: .whileConnected)\nreturn Driver(raw: safeSequence)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì •ë¦¬í•´ë³´ë©´ ìœ„ ê³¼ì •ê³¼ <code>asDriver(onErrorJustReturn: [])</code>ì€ ë™ì¼í•©ë‹ˆë‹¤.</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>.drive()</code></p></blockquote>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ <code>bind(to:)</code> ëŒ€ì‹  <code>drive()</code>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<p><code>drive()</code>ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì„œ UIì— ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ë°”ì¸ë”©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"Signal\"><a href=\"#Signal\" class=\"headerlink\" title=\"Signal\"></a>Signal</h3><p>êµ¬ë…ê³¼ ë™ì‹œì— ê°€ì¥ ë§ˆì§€ë§‰ ì´ë²¤íŠ¸ë¥¼ <code>replay</code>í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì  ì™¸ì—ëŠ” Driverì™€ ë™ì¼í•©ë‹ˆë‹¤. </p>\n<p>í•˜ì§€ë§Œ sequenceë¥¼ ê³µìœ í•œë‹¤ëŠ” ì ì€ ë³€í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— <code>share</code> ë©”ì„œë“œë¥¼ í†µí•´ ì›í•  ë•ŒëŠ” ê°’ì„ ê³µìœ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2 id=\"ControlProperty-x2F-ControlEvent\"><a href=\"#ControlProperty-x2F-ControlEvent\" class=\"headerlink\" title=\"ControlProperty &#x2F; ControlEvent\"></a>ControlProperty &#x2F; ControlEvent</h2><h3 id=\"ControlProperty\"><a href=\"#ControlProperty\" class=\"headerlink\" title=\"ControlProperty\"></a>ControlProperty</h3><p>UI ì»´í¬ë„ŒíŠ¸ì˜ í”„ë¡œí¼í‹°ë¥¼ ë‚´ìš©ìœ¼ë¡œ ê°–ëŠ” <code>Observable</code>&#x2F;<code>ObservableType</code> ì…ë‹ˆë‹¤.</p>\n<ul>\n<li>ì‹¤íŒ¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n<li><code>share(replay: 1)</code><ul>\n<li>Stateful í•©ë‹ˆë‹¤. (êµ¬ë…ê³¼ ë™ì‹œì— ë§ˆì§€ë§‰ ê°’ì„ í•œ ë²ˆ ë°©ì¶œí•©ë‹ˆë‹¤.)</li>\n</ul>\n</li>\n<li>ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n<li>ë©”ì¸ ì“°ë ˆë“œì—ì„œ ë™ì‘í•©ë‹ˆë‹¤.</li>\n</ul>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">extension Reactive where Base: UISearchBar &#123;\n\tpublic var value: ControlProperty&lt;String?&gt; &#123;\n\t\tlet source: Observable&lt;String?&gt; &#x3D; Observable.deferred &#123; [weak searchBar &#x3D; self.base as UISearchBar] () -&gt; Observable&lt;String?&gt; in\n\t\t\tlet text &#x3D; searchBar?.text\n\t\t\treturn (searchBar?.rx.delegate.methodInvoked(#selector(UISearchBarDelegate.searchBar(_:textDidChange:))) ?? Observable.empty())\n\t\t\t\t.map &#123; a in\n\t\t\t\t\treturn a[1] as? String\n\t\t\t\t&#125;\n\t\t\t\t.startWith(text)\n\t\t&#125;\n\n\t\tlet bindingObserver &#x3D; Binder(self.base) &#123; (searchBar, text: String?) in\n\t\t\tsearchBar.text &#x3D; text\n\t\t&#125;\n\n\t\treturn ControlProperty(values: source, valueSink: bindingObserver)\n\t&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"ControlEvent\"><a href=\"#ControlEvent\" class=\"headerlink\" title=\"ControlEvent\"></a>ControlEvent</h3><p>UI ì»´í¬ë„ŒíŠ¸ì˜ ì´ë²¤íŠ¸ë¥¼ ë‚´ìš©ìœ¼ë¡œ ê°–ëŠ” <code>Observable</code>&#x2F;<code>ObservableType</code> ì…ë‹ˆë‹¤.</p>\n<ul>\n<li>ì‹¤íŒ¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n<li>êµ¬ë…ì´ ì´ë£¨ì–´ì¡Œì„ ë•Œ ì´ˆê¸°ê°’ì„ ë°©ì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n<li>ì—ëŸ¬ë¥¼ ë°©ì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n<li>ë©”ì¸ ì“°ë ˆë“œì—ì„œ ë™ì‘í•©ë‹ˆë‹¤.</li>\n</ul>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">extension Reactive where Base: UICollectionView &#123;\n\tpublic var itemSelected: ControlEvent&lt;IndexPath&gt; &#123;\n\t\tlet source &#x3D; delegate.methodInvoked(#selector(UICollectionViewDelegate.collectionView(_:didSelectItemAt:)))\n\t\t\t.map &#123; a in\n\t\t\t\treturn a[1] as! IndexPath\n\t\t\t&#125;\n\n\t\treturn ControlEvent(events: source)\n\t&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"ì°¸ê³ -ë§í¬\"><a href=\"#ì°¸ê³ -ë§í¬\" class=\"headerlink\" title=\"ì°¸ê³  ë§í¬\"></a>ì°¸ê³  ë§í¬</h1><p><a href=\"https://github.com/ReactiveX/RxSwift/blob/main/Documentation/Traits.md\">RxSwift Traits</a></p>\n","text":"TraitsTraitsëŠ” Observableì˜ í•œ ì¢…ë¥˜ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. TraitsëŠ” UI ì˜ì—­ì—ì„œ ë³µì¡í•˜ê³  ë‹¤ì–‘í•œ ê¸°ëŠ¥ì´ ìˆëŠ” Observable ëŒ€ì‹  ì‚¬ìš©ë˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ë”°ë¼ì„œ RxCocoaì™€ ì•„ì£¼ ë°€ì ‘í•œ ê´€ë ¨ì´ ìˆì§€ë§Œ, ëª‡ëª‡ ê¸°ëŠ¥...","link":"","photos":[],"count_time":{"symbolsCount":"7.5k","symbolsTime":"7 mins."},"categories":[{"name":"Swift","slug":"Swift","count":29,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":78,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":78,"path":"api/tags/iOS.json"},{"name":"RxSwift","slug":"RxSwift","count":2,"path":"api/tags/RxSwift.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Traits\"><span class=\"toc-text\">Traits</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%EB%93%B1%EC%9E%A5-%EC%9D%B4%EC%9C%A0\"><span class=\"toc-text\">ë“±ì¥ ì´ìœ </span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90\"><span class=\"toc-text\">ê¸°ë³¸ ê°œë…</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#RxSwift-Traits\"><span class=\"toc-text\">RxSwift Traits</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Single\"><span class=\"toc-text\">Single</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Completable\"><span class=\"toc-text\">Completable</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Maybe\"><span class=\"toc-text\">Maybe</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#RxCocoa-Traits\"><span class=\"toc-text\">RxCocoa Traits</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Driver\"><span class=\"toc-text\">Driver</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Signal\"><span class=\"toc-text\">Signal</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ControlProperty-x2F-ControlEvent\"><span class=\"toc-text\">ControlProperty &#x2F; ControlEvent</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#ControlProperty\"><span class=\"toc-text\">ControlProperty</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#ControlEvent\"><span class=\"toc-text\">ControlEvent</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%EC%B0%B8%EA%B3%A0-%EB%A7%81%ED%81%AC\"><span class=\"toc-text\">ì°¸ê³  ë§í¬</span></a></li></ol>","author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}},"mapped":true,"prev_post":{"title":"24)ğŸ Swift - Moya","uid":"3792db1f46c6369b4473f92f8ea4160f","slug":"Swift/2023-02-26-Swift24","date":"2023-02-25T15:00:00.000Z","updated":"2023-03-31T14:18:24.179Z","comments":true,"path":"api/articles/Swift/2023-02-26-Swift24.json","keywords":null,"cover":"https://i.imgur.com/3np5TJM.png","text":"Moya ëª¨ì•¼ê°€ ëŒ€ì²´ ëª¨ì•¼? (ì•„ë§ˆ í•œêµ­ì¸ì´ ì‘ì„±í•œ ëª¨ì•¼ ê²Œì‹œë¬¼ 80%ëŠ” ì´ê±¸ë¡œ ì‹œì‘í• ë“¯â€¦) ê·¸ë˜ì„œ ëª¨ì•¼ëŠ” ë­˜ê¹Œìš”? MoyaëŠ” enum íƒ€ì…ì„ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë ˆì´ì–´ë¥¼ type-safeí•˜ê²Œ ë˜í•‘í•œ ë„¤íŠ¸ì›Œí‚¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì»´íŒŒì¼ íƒ€...","link":"","photos":[],"count_time":{"symbolsCount":"5.8k","symbolsTime":"5 mins."},"categories":[{"name":"Swift","slug":"Swift","count":29,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":78,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":78,"path":"api/tags/iOS.json"},{"name":"Moya","slug":"Moya","count":1,"path":"api/tags/Moya.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}}},"next_post":{"title":"22)ğŸ Swift - Compositional Layout.02","uid":"98a6caad455ce327628ef8de6d0451a0","slug":"Swift/2023-01-31-Swift22","date":"2023-01-30T15:00:00.000Z","updated":"2023-03-31T14:20:34.012Z","comments":true,"path":"api/articles/Swift/2023-01-31-Swift22.json","keywords":null,"cover":"https://i.imgur.com/sTVYBGH.png","text":"Supplementary ItemCollectionViewë¥¼ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ ìì£¼ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ” ìš”ì†Œë“¤ì´ ìˆìŠµë‹ˆë‹¤. Badges, Headers, Footersë¼ê³  ë¶ˆë¦¬ëŠ” ì´ê²ƒë“¤ì€ ë¦¬ìŠ¤íŠ¸ì˜ ì•ì´ë‚˜ ë’¤ì— ë¶™ì–´ ì „ì²´ì ì¸ ë¦¬ìŠ¤íŠ¸ì— ëŒ€í•œ ì •ë³´ë¥¼ ì œê³µí•´ì¤ë‹ˆë‹¤. B...","link":"","photos":[],"count_time":{"symbolsCount":"3.7k","symbolsTime":"3 mins."},"categories":[{"name":"Swift","slug":"Swift","count":29,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":78,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":78,"path":"api/tags/iOS.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}}}}