{"title":"17)ğŸ Swift - Property Wrapper","uid":"d307c77550c3e506aba3109e585568f0","slug":"Swift/2022-12-26-Swift17","date":"2022-12-25T15:00:00.000Z","updated":"2023-03-31T10:43:12.067Z","comments":true,"path":"api/articles/Swift/2022-12-26-Swift17.json","keywords":null,"cover":null,"content":"<h1 id=\"Property-Wrapper\"><a href=\"#Property-Wrapper\" class=\"headerlink\" title=\"Property Wrapper\"></a>Property Wrapper</h1><p>ì˜¤ëŠ˜ì€ UserDefaultsë¥¼ ì–´ë–»ê²Œ í•˜ë©´ ì¡°ê¸ˆì´ë¼ë„ ë” í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œ ê³ ë¯¼í•˜ë‹¤ê°€ ì•„ì£¼ ì¢‹ì€ ì¹œêµ¬ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.</p>\n<p>ë°”ë¡œ Property Wrapperë¼ëŠ” ì¹œêµ¬ì¸ë°ìš”.</p>\n<p>ì´ ì¹œêµ¬ëŠ” SwiftUIì™€ Combineì˜ ê¸°ëŠ¥ì„ UIKitì—ì„œë„ ì ìš©í•  ìˆ˜ ìˆë„ë¡ Swift 5.1ë²„ì „ì— ë“±ì¥í–ˆìŠµë‹ˆë‹¤.</p>\n<p>ë§ì€ ê²Œì‹œë¬¼ì—ì„œ SwiftUIì˜ <code>@State</code>ë¥¼ ì˜ˆì‹œë¡œ ë“¤ë©° ì„¤ëª…í•˜ê³  ìˆëŠ”ë°, ì €ëŠ” ê²½í—˜ì´ ì—†ì–´ì„œ.. ë„˜ì–´ê°€êµ¬ìš”â€¦</p>\n<p>ì´ë¦„ì„ ë³´ë©´ í”„ë¡œí¼í‹°ë¥¼ ê°ì‹¸ì„œ ë­”ê°€ë¥¼ í•˜ëŠ” ì¹œêµ¬ì¸ ê²ƒ ê°™ì£ ?</p>\n<p>ë°”ë¡œ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<h2 id=\"ìš©ë„\"><a href=\"#ìš©ë„\" class=\"headerlink\" title=\"ìš©ë„\"></a>ìš©ë„</h2><p>ì¼ë‹¨ ì–´ë–¤ ê°œë…ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê±´ì§€ë¶€í„° ì•Œì•„ë´…ì‹œë‹¤.</p>\n<p>Swiftì—ëŠ” <code>lazy</code>í”„ë¡œí¼í‹° ë¼ëŠ” ê²ƒì´ ìˆìŠµë‹ˆë‹¤.</p>\n<p>í•´ë‹¹ í”„ë¡œí¼í‹°ê°€ ì‚¬ìš©ë  ë•Œ ë¡œë“œë¥¼ ì‹œì‘í•˜ë„ë¡ í•´ì£¼ëŠ” í‚¤ì›Œë“œì´ì£ .</p>\n<p>ì´ <code>lazy</code> í‚¤ì›Œë“œëŠ” ëª¨ë“  í‚¤ì›Œë“œë“¤ì— ë¶™ì¼ ìˆ˜ ìˆê³  ë™ì¼í•œ ë™ì‘ì„ í•©ë‹ˆë‹¤.</p>\n<p>ë§Œì•½ ì´ í‚¤ì›Œë“œê°€ ì—†ë‹¤ë©´ í•´ë‹¹ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œ ì–´ë–¤ ê³¼ì •ì„ ë°Ÿê²Œ ë ê¹Œìš”?</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">func getMyClass() -&gt; MyClass &#123;\n\tif self.myVar &#x3D;&#x3D; nil &#123;\n\t\tself.myVar &#x3D; MyClass()\n\t&#125;\n\treturn self.myVar\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ìœ„ì™€ ê°™ì´ í•´ë‹¹ í”„ë¡œí¼í‹°ê°€ ì´ˆê¸°í™”ê°€ ëëŠ”ì§€ í™•ì¸ì„ í•œ í›„ì— ê°’ì„ ë¶ˆëŸ¬ì˜¤ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ëª¨ë“  í”„ë¡œí¼í‹°ì— ì§ì ‘ êµ¬í˜„í•˜ë©° ì ìš©ì‹œì¼œì£¼ì–´ì•¼ í•  ê±°ì—ìš”.</p>\n<p>ë‹¤í–‰íˆë„ ìœ„ ë™ì‘ì„ ìš°ë¦¬ëŠ”</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">lazy var myClass &#x3D; MyClass()<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>ì´ë ‡ê²Œ ê°„í¸í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>Property WrapperëŠ” <code>lazy</code>ì™€ ê°™ì´ ë™ì¼í•œ ë™ì‘ì„ í•˜ëŠ” í”„ë¡œí¼í‹°ë“¤ì— ëŒ€í•´ì„œ ê³µí†µì ìœ¼ë¡œ ë¯¸ë¦¬ êµ¬í˜„ëœ ë™ì‘ë“¤ì„ ë¶€ì—¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.</p>\n<h2 id=\"ì •ì˜\"><a href=\"#ì •ì˜\" class=\"headerlink\" title=\"ì •ì˜\"></a>ì •ì˜</h2><p>í”„ë¡œí¼í‹°ë¥¼ ê°ì‹¸ëŠ” ê¸°ëŠ¥ì´ê¸° ë•Œë¬¸ì— ìš°ì„  í”„ë¡œí¼í‹°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆëŠ” class, struct, enum ì•ì— <code>@propertyWrapper</code>ë¥¼ ë¶™ì—¬ ì •ì˜í•©ë‹ˆë‹¤.</p>\n<p>ì˜ˆì‹œë¡œ UserDefaultsë¡œ ìë™ìœ¼ë¡œ ë™ê¸°í™” ì‘ì—…ì„ í•˜ëŠ” í”„ë¡œí¼í‹°ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">@propertyWrapper\nstruct UserDeafult&lt;T&gt; &#123;\n\tvar key: String\n\tvar defaultValue: T\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ê·¸ëŸ°ë° ì´ë ‡ê²Œê¹Œì§€ë§Œ í•˜ë©´ í•´ë‹¹ í”„ë¡œí¼í‹°ì— ë³€ê²½ì´ ìˆì„ ë•Œë§ˆë‹¤ ì–´ë–¤ ì‘ì—…ì´ ì‹¤í–‰ë˜ëŠ”ì§€ì— ëŒ€í•œ ëª…ì‹œê°€ ì—†ì£ .</p>\n<p>ê·¸ë˜ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ê³ , ê·¸ ì—ëŸ¬ë¥¼ ì‚´í´ë³´ë©´ <code>wrappedValue</code>ê°€ ì •ì˜ë˜ì§€ ì•Šì•˜ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><code>wrappedValue</code>ë¥¼ ì •ì˜í•´ì£¼ê³ ,  <code>get-set</code>ì„ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ í”„ë¡œí¼í‹°ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë°œìƒí•˜ëŠ” ë¡œì§ì„ ë„£ì–´ì¤ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">var wrappedValue: T &#123;\n\tget &#123;\n\t\tUserDefaults.standard.object(forKey: key) as? T ?? defaultValue\n\t&#125;\n\tset &#123;\n\t\tUserDefaults.standard.set(newValue, forKey: key)\n\t&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì´ì œ í•©ì³ë³¼ê¹Œìš”?</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">@propertyWrapper\nstruct UserDefault&lt;T&gt; &#123;\n\tvar key: String\n\tvar defaultValue: T\n\n\tvar wrappedValue: T &#123;\n\t\tget &#123;\n\t\t\tUserDefaults.standard.object(forKey: key) as? T ?? defaultValue\n\t\t&#125;\n\t\tset &#123;\n\t\t\tUserDefaults.standard.get(newValue, forKey: key)\n\t\t&#125;\n\t&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"ì‚¬ìš©\"><a href=\"#ì‚¬ìš©\" class=\"headerlink\" title=\"ì‚¬ìš©\"></a>ì‚¬ìš©</h2><p>ì ê·¸ëŸ¼ ì ìš©ì€ ì–´ë–»ê²Œ í• ê¹Œìš”?</p>\n<p><code>lazy</code>ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì•ì— ëª…ì‹œí•´ì£¼ë©´ ë©ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">struct AppData &#123;\n\t@UserDefault(key: &quot;isLoggedIn&quot;, defaultValue: false)\n\tstatic var isLoggedIn: Bool\n\n\t@UserDefault(key: &quot;username&quot;, defaultValue: &quot;&quot;)\n\tstatic var username: String\n&#125;\n\nAppData.isLoggedIn &#x3D; true\nprint(AppData.isLoggedIn) &#x2F;&#x2F; true\n\nprint(AppData.username) &#x2F;&#x2F; &quot;&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì¡°ê¸ˆ ë” ë‚˜ì•„ê°€ì„œ ì»¤ìŠ¤í…€ íƒ€ì…ì—ë„ ì ìš©ë  ìˆ˜ ìˆë„ë¡ ë°”ê¿”ë´…ì‹œë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">@propertyWrapper\nstruct UserDefault&lt;T: Codable&gt; &#123;\n\t&#x2F;&#x2F; keyì™€ default ê°’ì€ ë°”ë€” ì¼ì´ ì—†ìœ¼ë‹ˆ letìœ¼ë¡œ ë³€ê²½\n\tprivate let key: String\n\tprivate let defaultValue: T\n\n\tinit(key: String, defaultValue: T) &#123;\n\t\tself.key &#x3D; key\n\t\tself.defaultValue &#x3D; defaultValue\n\t&#125;\n\n\tvar wrappedValue: T &#123;\n\t\tget &#123;\n\t\t\tguard let data &#x3D; Userdefaults.standard.object(forKey: key) as? Data else &#123;\n\t\t\t\treturn defaultValue\n\t\t\t&#125;\n\t\t\tlet value &#x3D; try? JSONDecoder().decode(T.self, from: data)\n\t\t\treturn value ?? defaultValue\n\t\t&#125;\n\t\tset &#123;\n\t\t\tlet data &#x3D; try? JSONEncoder().encode(newValue)\n\t\t\tUserDefaults.standard.set(data, forKey: key)\n\t\t&#125;\n\t&#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì´ë ‡ê²Œ ìë™ìœ¼ë¡œ UserDefaultsë¡œ ê°’ì„ ë™ê¸°í™”ì‹œì¼œì£¼ëŠ” Property Wrapperë¥¼ ë§Œë“¤ê³  ì ìš©í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>\n<h3 id=\"ì°¸ê³ -ê²Œì‹œë¬¼\"><a href=\"#ì°¸ê³ -ê²Œì‹œë¬¼\" class=\"headerlink\" title=\"ì°¸ê³  ê²Œì‹œë¬¼\"></a>ì°¸ê³  ê²Œì‹œë¬¼</h3><p><a href=\"https://medium.com/better-programming/create-the-perfect-userdefaults-wrapper-using-property-wrapper-42ca76005ac8\"># Create the Perfect UserDefaults Wrapper Using Property Wrapper</a></p>\n","text":"Property Wrapperì˜¤ëŠ˜ì€ UserDefaultsë¥¼ ì–´ë–»ê²Œ í•˜ë©´ ì¡°ê¸ˆì´ë¼ë„ ë” í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œ ê³ ë¯¼í•˜ë‹¤ê°€ ì•„ì£¼ ì¢‹ì€ ì¹œêµ¬ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ë°”ë¡œ Property Wrapperë¼ëŠ” ì¹œêµ¬ì¸ë°ìš”. ì´ ì¹œêµ¬ëŠ” SwiftUIì™€ Combineì˜ ...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"Swift","slug":"Swift","count":30,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":81,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":81,"path":"api/tags/iOS.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Property-Wrapper\"><span class=\"toc-text\">Property Wrapper</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%EC%9A%A9%EB%8F%84\"><span class=\"toc-text\">ìš©ë„</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%EC%A0%95%EC%9D%98\"><span class=\"toc-text\">ì •ì˜</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%EC%82%AC%EC%9A%A9\"><span class=\"toc-text\">ì‚¬ìš©</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%EC%B0%B8%EA%B3%A0-%EA%B2%8C%EC%8B%9C%EB%AC%BC\"><span class=\"toc-text\">ì°¸ê³  ê²Œì‹œë¬¼</span></a></li></ol></li></ol></li></ol>","author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ëª©ì  ìˆëŠ” ì„±ì¥ì„ ì§€í–¥í•˜ëŠ” <br/> iOS ê°œë°œì ì¤€ë¹„ìƒ ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}},"mapped":true,"prev_post":{"title":"18)ğŸ Swift - ë‹¤ìš´ìƒ˜í”Œë§","uid":"dd29b53b3fa8ec1be54827ce6b92cee8","slug":"Swift/2022-12-27-Swift18","date":"2022-12-26T15:00:00.000Z","updated":"2023-03-31T10:46:00.205Z","comments":true,"path":"api/articles/Swift/2022-12-27-Swift18.json","keywords":null,"cover":[],"text":"ë‹¤ìš´ìƒ˜í”Œë§ìœ¼ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ì´ë¯¸ì§€ ì²˜ë¦¬í•˜ê¸°ì´ì „ ê²Œì‹œë¬¼ì—ì„œ ì•Œì•„ë³´ì•˜ë˜ PHPickerë¥¼ ì‚¬ìš©í•´ì„œ ì´ë¯¸ì§€ë¥¼ ì²˜ë¦¬í•˜ë˜ ì¤‘ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ë¥¼ ë§ˆì£¼ì³¤ìŠµë‹ˆë‹¤. Swiftê°€ í—ˆìš©í•œ 4,194,304 ë°”ì´íŠ¸ë³´ë‹¤ í° ë°ì´í„°ë¥¼ UserDefaultsì— ì €ì¥í•  ìˆ˜ ...","link":"","photos":[],"count_time":{"symbolsCount":"5.8k","symbolsTime":"5 mins."},"categories":[{"name":"Swift","slug":"Swift","count":30,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":81,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":81,"path":"api/tags/iOS.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ëª©ì  ìˆëŠ” ì„±ì¥ì„ ì§€í–¥í•˜ëŠ” <br/> iOS ê°œë°œì ì¤€ë¹„ìƒ ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}}},"next_post":{"title":"16)ğŸ Swift - PHPicker","uid":"79bbbda6f45f64c92a28adda5128658d","slug":"Swift/2022-12-22-Swift16","date":"2022-12-21T15:00:00.000Z","updated":"2023-03-31T10:43:04.419Z","comments":true,"path":"api/articles/Swift/2022-12-22-Swift16.json","keywords":null,"cover":[],"text":"PHPickerí† ì´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë˜ ì¤‘ì— ì´ë¯¸ì§€ë¥¼ ì„ íƒí•´ì„œ ì—…ë¡œë“œí•˜ëŠ” ë™ì‘ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤. ë‹¹ì—°íˆ ì²˜ìŒì—ëŠ” ìë£Œê°€ ë§ì€ UIImagePickerControllerë¥¼ ì‚¬ìš©í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤. ì´ ë•ŒëŠ” PHPickerë¼ëŠ” ëª¨ë“ˆì´ ìˆëŠ”ì§€ë„ ëª°ëì—ˆì£ . ê¸°ëŠ¥ì´...","link":"","photos":[],"count_time":{"symbolsCount":"4.1k","symbolsTime":"4 mins."},"categories":[{"name":"Swift","slug":"Swift","count":30,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":81,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":81,"path":"api/tags/iOS.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ëª©ì  ìˆëŠ” ì„±ì¥ì„ ì§€í–¥í•˜ëŠ” <br/> iOS ê°œë°œì ì¤€ë¹„ìƒ ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}}}}