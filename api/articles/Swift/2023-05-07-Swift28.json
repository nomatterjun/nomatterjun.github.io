{"title":"28)ğŸ Swift - RxDataSourcesì™€ reloadData","uid":"865af57bf1f8e18b3c920c89fcdfd418","slug":"Swift/2023-05-07-Swift28","date":"2023-05-06T15:00:00.000Z","updated":"2023-05-08T15:56:49.644Z","comments":true,"path":"api/articles/Swift/2023-05-07-Swift28.json","keywords":null,"cover":"https://i.imgur.com/asYxn3y.png","content":"<h1 id=\"ğŸ˜µ-DataSourceë¥¼-reload-í•˜ëŠ”-ê³¼ì •ì—ì„œ-ë¬¸ì œ-ë°œìƒ\"><a href=\"#ğŸ˜µ-DataSourceë¥¼-reload-í•˜ëŠ”-ê³¼ì •ì—ì„œ-ë¬¸ì œ-ë°œìƒ\" class=\"headerlink\" title=\"ğŸ˜µÂ DataSourceë¥¼  reload í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œ ë°œìƒ\"></a>ğŸ˜µÂ DataSourceë¥¼  reload í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œ ë°œìƒ</h1><img src=\"https://i.imgur.com/qXjX4Zk.gif\" width=\"300\">\n\n<p>MyPageë¥¼ í¸ì§‘í•˜ëŠ” Viewë¥¼ êµ¬í˜„í•˜ë˜ ì¤‘ í•˜ë‚˜ì˜ Section ê°’ì´ ì—…ë°ì´íŠ¸ ë˜ë©´ ë‹¤ë¥¸ Sectionì˜ ê°’ì´ ì´ˆê¸°ê°’ìœ¼ë¡œ ëŒì•„ê°€ëŠ” í˜„ìƒì„ ë§ˆì£¼í–ˆìŠµë‹ˆë‹¤.</p>\n<p>í•´ë‹¹ ViewëŠ” í•˜ë‚˜ì˜ <code>UICollectionView</code>ë¡œ êµ¬ì„±ë˜ì—ˆìœ¼ë©° ìµœìƒë‹¨ì˜ í”„ë¡œí•„&#x2F;ë°°ê²½ ì´ë¯¸ì§€ ë³€ê²½ ë¶€ë¶„ì€ Header, ì´ë¦„&#x2F;ID&#x2F;ì·¨í–¥ ë¶€ë¶„ì€ Sectionìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">Â  private lazy var dataSource: EditMyPageDataSource &#x3D; EditMyPageDataSource(\nÂ  Â  configureCell: &#123; [weak self] _, collectionView, indexPath, item in\nÂ  Â  Â  switch item &#123;\nÂ  Â  Â  case let .name(name, placeholder):\nÂ  Â  Â  Â  let cell &#x3D; collectionView.dequeueReusableCell(for: indexPath) as FavorTextFieldCell\nÂ  Â  Â  Â  cell.bind(placeholder: placeholder)\nÂ  Â  Â  Â  cell.bind(text: name)\nÂ  Â  Â  Â  return cell\nÂ  Â  Â  case let .id(name, placeholder):\nÂ  Â  Â  Â  let cell &#x3D; collectionView.dequeueReusableCell(for: indexPath) as FavorTextFieldCell\nÂ  Â  Â  Â  cell.bind(placeholder: placeholder)\nÂ  Â  Â  Â  cell.bind(text: name)\nÂ  Â  Â  Â  return cell\nÂ  Â  Â  case let .favor(isSelected, favor):\nÂ  Â  Â  Â  let cell &#x3D; collectionView.dequeueReusableCell(for: indexPath) as EditMyPagePreferenceCell\nÂ  Â  Â  Â  cell.isButtonSelected &#x3D; isSelected\nÂ  Â  Â  Â  cell.favor &#x3D; favor\nÂ  Â  Â  Â  return cell\nÂ  Â  Â  &#125;\nÂ  Â  &#125;, configureSupplementaryView: &#123; dataSource, collectionView, kind, indexPath in\nÂ  Â  Â  switch kind &#123;\nÂ  Â  Â  case EditMyPageCollectionHeaderView.reuseIdentifier:\nÂ  Â  Â  Â  let header &#x3D; collectionView.dequeueReusableSupplementaryView(\nÂ  Â  Â  Â  Â  ofKind: kind,\nÂ  Â  Â  Â  Â  for: indexPath\nÂ  Â  Â  Â  ) as EditMyPageCollectionHeaderView\nÂ  Â  Â  Â  return header\nÂ  Â  Â  case UICollectionView.elementKindSectionHeader:\nÂ  Â  Â  Â  let header &#x3D; collectionView.dequeueReusableSupplementaryView(\nÂ  Â  Â  Â  Â  ofKind: kind,\nÂ  Â  Â  Â  Â  for: indexPath\nÂ  Â  Â  Â  ) as FavorSectionHeaderView\nÂ  Â  Â  Â  let headerTitle &#x3D; dataSource[indexPath.section].header\nÂ  Â  Â  Â  header.updateTitle(headerTitle)\nÂ  Â  Â  Â  return header\nÂ  Â  Â  case UICollectionView.elementKindSectionFooter:\nÂ  Â  Â  Â  let footer &#x3D; collectionView.dequeueReusableSupplementaryView(\nÂ  Â  Â  Â  Â  ofKind: kind,\nÂ  Â  Â  Â  Â  for: indexPath\nÂ  Â  Â  Â  ) as FavorSectionFooterView\nÂ  Â  Â  Â  footer.footerDescription &#x3D; dataSource[indexPath.section].footer\nÂ  Â  Â  Â  return footer\nÂ  Â  Â  default:\nÂ  Â  Â  Â  return UICollectionReusableView()\nÂ  Â  Â  &#125;\nÂ  Â  &#125;\nÂ  )<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>DataSourceë¥¼ ë°”ì¸ë”©í•˜ëŠ” ê³¼ì •ì€ Rxì™€ì˜ í˜¸í™˜ì„±ì„ ê³ ë ¤í•˜ì—¬ <code>RxDataSources</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.<br>ì¶”ê°€ì ìœ¼ë¡œ cellì„ dequeueí•˜ê³  identifierë¥¼ ì •ì˜í•˜ëŠ” ê³¼ì •ì„ í¸ë¦¬í•˜ê²Œ êµ¬í˜„í•˜ê¸° ìœ„í•´ <code>Reusable</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<h2 id=\"â“-ì›ì¸-íŒŒì•…\"><a href=\"#â“-ì›ì¸-íŒŒì•…\" class=\"headerlink\" title=\"â“ ì›ì¸ íŒŒì•…\"></a>â“ ì›ì¸ íŒŒì•…</h2><p>ê° Cellì— rxë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë°”ì¸ë”©í•˜ëŠ” ê³¼ì •ì—ì„œì˜ ë¬¸ì œ, Reactorì˜ <code>transform</code>ì—ì„œ <code>newState</code>ê°€ ìƒˆë¡­ê²Œ ìƒì„±ë˜ëŠ” ë¬¸ì œ ë“±ì„ ê³ ë ¤í–ˆì§€ë§Œ ê²°êµ­ì—ëŠ” ëª¨ë‘ ì•„ë‹ˆì˜€ìŠµë‹ˆë‹¤.</p>\n<p>ì›ì¸ì€ <code>dataSource</code>ì— <code>print</code>ë¬¸ì„ ë„£ì€ í›„ì— ë°œê²¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">Â  private lazy var dataSource: EditMyPageDataSource &#x3D; EditMyPageDataSource(\nÂ  Â  configureCell: &#123; [weak self] _, collectionView, indexPath, item in\nÂ  Â  Â  switch item &#123;\nÂ  Â  Â  case let .name(name, placeholder):\nÂ  Â  Â  Â  let cell &#x3D; collectionView.dequeueReusableCell(for: indexPath) as FavorTextFieldCell\nÂ  Â  Â  Â  cell.bind(placeholder: placeholder)\nÂ  Â  Â  Â  cell.bind(text: name)\nÂ  Â  Â  Â  print(cell) &#x2F;&#x2F; ğŸ–ï¸ ì—¬ê¸°\nÂ  Â  Â  Â  return cell\nÂ  Â  Â  case let .id(name, placeholder):\nÂ  Â  Â  Â  let cell &#x3D; collectionView.dequeueReusableCell(for: indexPath) as FavorTextFieldCell\nÂ  Â  Â  Â  cell.bind(placeholder: placeholder)\nÂ  Â  Â  Â  cell.bind(text: name)\nÂ  Â  Â  Â  print(cell) &#x2F;&#x2F; ğŸ–ï¸ ì—¬ê¸°\nÂ  Â  Â  Â  return cell\nÂ  Â  Â  case let .favor(isSelected, favor):\nÂ  Â  Â  Â  let cell &#x3D; collectionView.dequeueReusableCell(for: indexPath) as EditMyPagePreferenceCell\nÂ  Â  Â  Â  cell.isButtonSelected &#x3D; isSelected\nÂ  Â  Â  Â  cell.favor &#x3D; favor\nÂ  Â  Â  Â  return cell\nÂ  Â  Â  &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” Sectionì˜ cellì— <code>print</code>ë¬¸ì„ ê±¸ì–´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>\n<img src=\"https://i.imgur.com/G41uFul.png\" width=\"500\">\n\n<p>ê° Sectionì— í•˜ë‚˜ì˜ Itemë§Œ í¬í•¨ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì·¨í–¥ Sectionì´ ë³€ê²½ë ë•Œë§ˆë‹¤ ëª¨ë“  Sectionì˜ <code>dataSource</code>ê°€ ë‹¤ì‹œ ì •ì˜ë˜ê³  ìˆì—ˆë˜ ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ëª¨ë“  Sectionì˜ ë°ì´í„°ê°€ reloadë˜ê³  ìˆë‹¤ëŠ” ì˜ì‹¬ì„ í’ˆê³  RxDataSources ë‚´ë¶€ ì½”ë“œë¥¼ íŒŒì•…í•´ë³´ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.</p>\n<h2 id=\"â—-ì›ì¸-ë°œê²¬\"><a href=\"#â—-ì›ì¸-ë°œê²¬\" class=\"headerlink\" title=\"â— ì›ì¸ ë°œê²¬\"></a>â— ì›ì¸ ë°œê²¬</h2><p>ë¬¸ì œëŠ” RxDataSourcesê°€ ë§ì•˜ìŠµë‹ˆë‹¤.</p>\n<p>ì¼ë‹¨ ì €í¬ê°€ ì‚¬ìš©í•˜ê³  ìˆë˜ <code>RxCollectionViewSectionedReloadDataSource</code>ì˜ ê²½ìš°ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">open class RxCollectionViewSectionedReloadDataSource&lt;Section: SectionModelType&gt;\nÂ  Â  : CollectionViewSectionedDataSource&lt;Section&gt;\nÂ  Â  , RxCollectionViewDataSourceType &#123;\nÂ  Â  public typealias Element &#x3D; [Section]\n\nÂ  Â  open func collectionView(_ collectionView: UICollectionView, observedEvent: Event&lt;Element&gt;) &#123;\nÂ  Â  Â  Â  Binder(self) &#123; dataSource, element in\nÂ  Â  Â  Â  Â  Â  #if DEBUG\nÂ  Â  Â  Â  Â  Â  Â  Â  dataSource._dataSourceBound &#x3D; true\nÂ  Â  Â  Â  Â  Â  #endif\nÂ  Â  Â  Â  Â  Â  dataSource.setSections(element)\nÂ  Â  Â  Â  Â  Â  collectionView.reloadData() &#x2F;&#x2F; ğŸ‘ˆ ì—¬ê¸°!\nÂ  Â  Â  Â  Â  Â          collectionView.collectionViewLayout.invalidateLayout()\nÂ  Â  Â  Â  &#125;.on(observedEvent)\nÂ  Â  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>UIKitì€ <code>UICollectionView</code>ì˜ ê°’ì„ reloadí•˜ëŠ” ë°©ë²•ìœ¼ë¡œ í¬ê²Œ</p>\n<ol>\n<li>ëª¨ë“  ê°’ì„ reloadí•˜ëŠ” <code>reloadData()</code></li>\n<li>íŠ¹ì • Sectionë§Œì„ reloadí•˜ëŠ” <code>reloadSections()</code></li>\n<li>ë§ˆì§€ë§‰ìœ¼ë¡œ íŠ¹ì • Itemë§Œì„ reloadí•˜ëŠ” <code>reloadItem(at:)</code><br>ì˜ ì„¸ê°€ì§€ ì¢…ë¥˜ APIë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.</li>\n</ol>\n<p>í•˜ì§€ë§Œ RxDataSourcesì˜ ê²½ìš°, ë¬´ì¡°ê±´ <code>reloadData()</code>ë¥¼ í˜¸ì¶œí•˜ì—¬ ëª¨ë“  ê°’ì„ reloadí•˜ê³  ìˆëŠ” ì ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ChatGPTì—ê²Œ ë¬¼ì–´ë³´ë‹ˆ RxDataSourcesëŠ” ê·œëª¨ê°€ ì‘ì€ ë°ì´í„°ë¥¼ ë‹¤ë£° ë•Œ ì‚¬ìš©ë˜ëŠ” ê²ƒì„ ê³ ë ¤í•˜ì—¬ ì„¤ê³„ë˜ì—ˆê³ , ëª¨ë“  ê°’ì„ reloadí•˜ëŠ” ê²ƒì´ ë‹¤ë¥¸ trade-offì™€ ë¹„êµí–ˆì„ ë•Œ íš¨ìœ¨ì ìœ¼ë¡œ íŒë‹¨í–ˆë‹¤ê³  í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://i.imgur.com/eIPDjzg.png\"></p>\n<p>ì •í™•í•œ ì •ë³´ì¸ì§€ ê°œì¸ì ìœ¼ë¡œ ì¶œì²˜ë¥¼ ì°¾ì•„ë³´ë ¤ í–ˆì§€ë§Œ ì°¾ì•„ë³¼ ìˆ˜ëŠ” ì—†ì—ˆìŠµë‹ˆë‹¤..<br>ì œë³´ ë°›ìŠµë‹ˆë‹¤.. ğŸ˜…</p>\n<p><code>.name</code>ê³¼ <code>.id</code> ì„¹ì…˜ì˜ ê²½ìš°ì—ëŠ” Viewê°€ ë¡œë“œëì„ ë•Œ ë‹¨ í•œ ë²ˆë§Œ ë°ì´í„°ê°€ ë¡œë“œë˜ê¸° ë•Œë¬¸ì— ëª¨ë“  Sectionì´ reloadë˜ëŠ” ê²½ìš° ì´ˆê¸°ê°’ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>\n<p>í˜¹ì‹œë‚˜ <code>RxCollectionViewSectionedAnimatedDataSource</code>ëŠ” ë³€ê²½ë˜ëŠ” Sectionì„ ê³¨ë¼ë‚´ì„œ ë¶€ë¶„ì ìœ¼ë¡œ reloadê°€ ë˜ë‚˜ ì‹¶ì—ˆì§€ë§Œ..<br>ë§ˆì°¬ê°€ì§€ë¡œ ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬ë§Œ ë¶€ë¶„ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ê³  reloadëŠ” ì „ì²´ì ìœ¼ë¡œ ë˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤..</p>\n<h2 id=\"â€¼ï¸-í•´ê²°\"><a href=\"#â€¼ï¸-í•´ê²°\" class=\"headerlink\" title=\"â€¼ï¸ í•´ê²°\"></a>â€¼ï¸ í•´ê²°</h2><p>ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ë‘ ê°€ì§€ í•´ê²°ë²•ì´ ìˆìŠµë‹ˆë‹¤.</p>\n<ol>\n<li>Custom DataSource íƒ€ì…ì„ ë§Œë“¤ì–´ ì‚¬ìš©í•œë‹¤.</li>\n<li>RxDataSourcesë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.</li>\n</ol>\n<h3 id=\"Custom-DataSource-ì‚¬ìš©\"><a href=\"#Custom-DataSource-ì‚¬ìš©\" class=\"headerlink\" title=\"Custom DataSource ì‚¬ìš©\"></a>Custom DataSource ì‚¬ìš©</h3><pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">class FavorDataSource&lt;Section: SectionModelType&gt;: RxCollectionViewSectionedReloadDataSource&lt;Section&gt; &#123;\nÂ  override func collectionView(_ collectionView: UICollectionView, observedEvent: Event&lt;[Section]&gt;) &#123;\nÂ  Â  Binder(self) &#123; dataSource, element in\nÂ  Â  Â  dataSource.setSections(element)\nÂ  Â  Â  collectionView.reloadSections([2], animationStyle: .none) &#x2F;&#x2F; ğŸ‘ˆ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ê³ ì •ì ìœ¼ë¡œ 2ë²ˆì§¸ ì„¹ì…˜ë§Œ reloadë˜ë„ë¡\nÂ  Â  Â  collectionView.collectionViewLayout.invalidateLayout()\nÂ  Â  &#125;.on(observedEvent)\nÂ  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì²« ë²ˆì§¸ ë°©ë²•ì…ë‹ˆë‹¤.</p>\n<p>ìœ„ì™€ ê°™ì´ Custom DataSourceë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.</p>\n<p><code>reloadData()</code> ëŒ€ì‹  <code>reloadSections</code>ë‚˜ <code>reloadItem(at:)</code>ì„ ì‚¬ìš©í•˜ëŠ” Data Sourceë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.</p>\n<p>í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ìš°ì„  2ë²ˆì§¸ Sectionì˜ ê°’ë“¤ë§Œ reload ë˜ë„ë¡ êµ¬í˜„í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>\n<img src=\"https://i.imgur.com/q4pR5DY.gif\" width=\"300\">\n\n<p>Sectionì´ ê¹œë¹¡ì´ê¸´ í•˜ì§€ë§Œ ì¼ë‹¨ ì›í•˜ëŠ”ëŒ€ë¡œ ë™ì‘ì€ í•˜ëŠ”êµ°ìš”..</p>\n<p>ë‹¨ì ì€ Sectionì˜ í˜•íƒœì— ë”°ë¼ DataSourceë¥¼ Viewì— ë§ê²Œ ê°ê° ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•´ì•¼ í•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤ëŠ” ì ì´ì˜€ìŠµë‹ˆë‹¤.</p>\n<p>â€œì–¸ì œ ì–´ë–¤ Sectionì„ reloadí•´ì•¼í•˜ëŠ”ê°€?â€ë¥¼ Genericí•˜ê²Œ ê³„ì‚°í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ì ì€ ì¼ë°˜ì ì¸ ê²½ìš°ì—ì„œë„ ê½¤ë‚˜ ë³µì¡í•œ ë¡œì§ì„ í•„ìš”ë¡œ í•˜ê³ , ì¶”í›„ ê³¼ì •ì—ì„œ ìŠ¤íŒŒê²Œí‹° ì½”ë“œê°€ ë  ê²ƒì´ë¼ëŠ” ìƒê°ì´ ë“¤ì–´ ë¶€ì ì ˆí•˜ë‹¤ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<h3 id=\"RxDataSources-ëŒ€ì‹ -DiffableDataSources-ì‚¬ìš©\"><a href=\"#RxDataSources-ëŒ€ì‹ -DiffableDataSources-ì‚¬ìš©\" class=\"headerlink\" title=\"RxDataSources ëŒ€ì‹  DiffableDataSources ì‚¬ìš©\"></a>RxDataSources ëŒ€ì‹  DiffableDataSources ì‚¬ìš©</h3><p>ì‚¬ì‹¤ ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ Native ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ê² ì£ ?</p>\n<p>ì €ëŠ” DiffableDataSourcesì— ëŒ€í•œ ì¶©ë¶„í•œ ê³µë¶€ë¥¼ í•œ ë’¤ ì €í¬ í”„ë¡œì íŠ¸ì˜ RxData Sourceë¥¼ DiffableDataSourcesë¡œ ëŒ€ì²´í•´ë„ ë¬¸ì œê°€ ì—†ê² ë‹¤ëŠ” íŒë‹¨ì„ í•˜ê³  RxDataSourcesë¥¼ ê±·ì–´ë‚´ê¸°ë¡œ ê²°ì •í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<p>Rxë¥¼ ì‚¬ìš©í•˜ë©´ì„œë„ DiffableDataSourcesë¥¼ ì‚¬ìš©í•˜ëŠ” ë°ì—ëŠ” ì•„ë¬´ ë¬¸ì œê°€ ì—†ì„ ê²ƒ ê°™ë”ë¼ê³ ìš”..</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>bind(to:)</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„í¸í•˜ê²Œ ë°ì´í„°ë¥¼ ë°”ì¸ë”©í•  ìˆ˜ ìˆë‹¤ë¼ëŠ” ì¥ì ë§Œ í¬ê¸°í•œë‹¤ë©´ RxDataSourcesë¥¼ ê±·ì–´ë‚´ëŠ” ë°ì—ëŠ” ì•„ë¬´ ë¬¸ì œê°€ ì—†ì—ˆìŠµë‹ˆë‹¤.</p></blockquote>\n<p>ì‹¬ì§€ì–´ APIë¥¼ ì‚¬ìš©í•˜ëŠ” í˜•íƒœë„ ìƒë‹¹íˆ ìœ ì‚¬í•´ì„œ ëŸ¬ë‹ í—ˆë“¤ë„ ë‚®ì€ í¸ì— ì†í–ˆìŠµë‹ˆë‹¤.</p>\n<p>í•˜ì§€ë§Œ ì œ ìƒí™©ì—ì„œì˜ DiffableDataSourcesë¥¼ ì‚¬ìš©í•˜ëŠ” ê°€ì¥ í° ì´ì ì€ <strong>ì œê°€ ì›í•˜ëŠ” ì‹œì ì— ì œê°€ ì›í•˜ëŠ” Sectionì´ë‚˜ Itemë§Œì„ ì—…ë°ì´íŠ¸</strong> í•´ì¤„ ìˆ˜ ìˆë‹¤ëŠ” ì ì´ì˜€ìŠµë‹ˆë‹¤.</p>\n<p>ì ì´ì œ ë¦¬íŒ©í† ë§ì„ í•´ë´…ì‹œë‹¤..! ğŸ”¥</p>\n<h4 id=\"1-Section-ì •ì˜\"><a href=\"#1-Section-ì •ì˜\" class=\"headerlink\" title=\"1. Section ì •ì˜\"></a>1. Section ì •ì˜</h4><p>ìš°ì„  ë‘ ê°€ì§€ í”„ë¡œí† ì½œì„ ì •ì˜í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">public protocol SectionModelType: Hashable &#123; &#125;\npublic protocol SectionModelItem: Hashable &#123; &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>SectionIdentifierë¡œ ì‚¬ìš©ë  <code>SectionModelType</code>ê³¼ ItemIdentifierë¡œ ì‚¬ìš©ë  <code>SectionModelItem</code> í”„ë¡œí† ì½œì…ë‹ˆë‹¤.</p>\n<p>ì´ ë‘ê°€ì§€ í”„ë¡œí† ì½œì€ ì•„ë¬´ ê¸°ëŠ¥ë„ í•˜ì§€ ì•Šê³  ì˜¤ì§ <code>Hashable</code>ì„ ì±„íƒí•´ì£¼ê¸°ë§Œ í–ˆìŠµë‹ˆë‹¤. (DiffableDataSourcesì—ì„œ ì‚¬ìš©ë˜ë ¤ë©´ Hashableí•´ì•¼í•©ë‹ˆë‹¤!)</p>\n<p>ì¶”í›„ì— í•„ìš”í•˜ë‹¤ë©´ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì£¼ê² ì§€ë§Œ ì•„ì§ì€ Genericì—ì„œì˜ íƒ€ì… ì œí•œ ìš©ë„ë¡œë§Œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">enum ProfileSectionItem: SectionModelItem &#123;\nÂ  case profileSetupHelper(ProfileSetupHelperCellReactor)\nÂ  case preferences(ProfilePreferenceCellReactor)\nÂ  case anniversaries(ProfileAnniversaryCellReactor)\nÂ  case memo\nÂ  case friends(ProfileFriendCellReactor)\n&#125;\n\nenum ProfileSection: SectionModelType &#123;\nÂ  case profileSetupHelper\nÂ  case preferences\nÂ  case anniversaries\nÂ  case memo\nÂ  case friends\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ê·¸ë¦¬ê³  ê·¸ ë‘ê°€ì§€ í”„ë¡œí† ì½œì„ ì±„íƒí•œ ì˜ˆì‹œì…ë‹ˆë‹¤.</p>\n<p><code>SectionModelType</code>ì„ ì±„íƒí•œ Sectionë“¤ê³¼ <code>SectionModelItem</code>ì„ ì±„íƒí•œ Itemì„ ì •ì˜í•´ì¤ë‹ˆë‹¤.</p>\n<h4 id=\"2-Reactor-State-ë³€ê²½\"><a href=\"#2-Reactor-State-ë³€ê²½\" class=\"headerlink\" title=\"2. Reactor State ë³€ê²½\"></a>2. Reactor State ë³€ê²½</h4><pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">var sections: [ProfileSection] &#x3D; []\nvar items: [[ProfileSectionItem]] &#x3D; []\n\nvar profileSetupHelperItems: [ProfileSectionItem] &#x3D; []\nvar preferencesItems: [ProfileSectionItem] &#x3D; []\nvar anniversaryItems: [ProfileSectionItem] &#x3D; []\nvar friendItems: [ProfileSectionItem] &#x3D; []<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì €ëŠ” ê° Sectionì— ëŒ€ì‘ë˜ëŠ” Itemë“¤ì„ ë”°ë¡œ ê´€ë¦¬í•´ì£¼ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì´ë ‡ê²Œ í•˜ëŠ” í¸ì´ ë°ì´í„°ë“¤ì„ ìˆ˜ì •í•´ì£¼ëŠ” ë¡œì§ì„ ì§¤ ë–„ í¸í•˜ë”ë¼êµ¬ìš”..</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">func transform(state: Observable&lt;State&gt;) -&gt; Observable&lt;State&gt; &#123;\n  return state.map &#123; state in\n    var newState &#x3D; state\n    var newSections: [ProfileSection] &#x3D; []\n    var newItems: [[ProfileSectionItem]] &#x3D; []\n    var profileSetupHelperItems: [ProfileSectionItem] &#x3D; []\n\n    &#x2F;&#x2F; ì·¨í–¥\n    if !state.preferencesItems.isEmpty &#123;\n\t  newSections.append(.preferences)\n\t  newItems.append(state.preferencesItems)\n    &#125; else &#123;\n    profileSetupHelperItems.append(.profileSetupHelper(ProfileSetupHelperCellReactor(.preference)))\n    &#125;\n    &#x2F;&#x2F; ê¸°ë…ì¼\n    if !state.anniversaryItems.isEmpty &#123;\n\t  newSections.append(.anniversaries)\n\t  newItems.append(state.anniversaryItems)\n    &#125; else &#123;\n    profileSetupHelperItems.append(.profileSetupHelper(ProfileSetupHelperCellReactor(.anniversary)))\n    &#125;\n    &#x2F;&#x2F; ì¹œêµ¬\n    newSections.append(.friends)\n    newItems.append(state.friendItems)\n    &#x2F;&#x2F; ìƒˆ í”„ë¡œí•„\n    if !profileSetupHelperItems.isEmpty &#123;\n\t  newSections.insert(.profileSetupHelper, at: .zero)\n\t  newItems.insert(profileSetupHelperItems, at: .zero)\n    &#125;\n  \n    newState.sections &#x3D; newSections\n    newState.items &#x3D; newItems\n    return newState\n  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ê° Itemë“¤ì— ëŒ€í•œ ë°ì´í„°ë“¤ì€ <code>transform(state:)</code>ì—ì„œ í†µí•©í•´ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•´ì£¼ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<h4 id=\"3-DataSourceì—-ë°”ì¸ë”©\"><a href=\"#3-DataSourceì—-ë°”ì¸ë”©\" class=\"headerlink\" title=\"3. DataSourceì— ë°”ì¸ë”©\"></a>3. DataSourceì— ë°”ì¸ë”©</h4><pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">reactor.state.map &#123; (sections: $0.sections, items: $0.items) &#125;\n  .asDriver(onErrorRecover: &#123; _ in return .empty()&#125;)\n  .drive(with: self, onNext: &#123; owner, sectionData in\n\tvar snapshot: NSDiffableDataSourceSnapshot&lt;ProfileSection, ProfileSectionItem&gt; &#x3D; .init()\n\tsnapshot.appendSections(sectionData.sections)\n\tsectionData.items.enumerated().forEach &#123; idx, items in\n\t  snapshot.appendItems(items, toSection: sectionData.sections[idx])\n\t&#125;\n\towner.dataSource.apply(snapshot, animatingDifferences: false)\n  &#125;)\n  .disposed(by: self.disposeBag)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>sectionsì™€ items ëª¨ë‘ Hashableí•˜ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì´ <code>appendSections</code>, <code>appendItems</code> ë“±ì˜ DiffableDataSourcesì˜ APIë¥¼ ì‚¬ìš©í•˜ì—¬ <code>dataSource</code>ì— ë°”ì¸ë”©í•´ì£¼ë©´ ëì…ë‹ˆë‹¤!</p>\n","feature":true,"text":"ğŸ˜µ DataSourceë¥¼ reload í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œ ë°œìƒ MyPageë¥¼ í¸ì§‘í•˜ëŠ” Viewë¥¼ êµ¬í˜„í•˜ë˜ ì¤‘ í•˜ë‚˜ì˜ Section ê°’ì´ ì—…ë°ì´íŠ¸ ë˜ë©´ ë‹¤ë¥¸ Sectionì˜ ê°’ì´ ì´ˆê¸°ê°’ìœ¼ë¡œ ëŒì•„ê°€ëŠ” í˜„ìƒì„ ë§ˆì£¼í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ViewëŠ” í•˜ë‚˜ì˜ UICol...","link":"","photos":[],"count_time":{"symbolsCount":"10k","symbolsTime":"9 mins."},"categories":[{"name":"Swift","slug":"Swift","count":29,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":78,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":78,"path":"api/tags/iOS.json"},{"name":"Favor","slug":"Favor","count":6,"path":"api/tags/Favor.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%F0%9F%98%B5-DataSource%EB%A5%BC-reload-%ED%95%98%EB%8A%94-%EA%B3%BC%EC%A0%95%EC%97%90%EC%84%9C-%EB%AC%B8%EC%A0%9C-%EB%B0%9C%EC%83%9D\"><span class=\"toc-text\">ğŸ˜µÂ DataSourceë¥¼  reload í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œ ë°œìƒ</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E2%9D%93-%EC%9B%90%EC%9D%B8-%ED%8C%8C%EC%95%85\"><span class=\"toc-text\">â“ ì›ì¸ íŒŒì•…</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E2%9D%97-%EC%9B%90%EC%9D%B8-%EB%B0%9C%EA%B2%AC\"><span class=\"toc-text\">â— ì›ì¸ ë°œê²¬</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E2%80%BC%EF%B8%8F-%ED%95%B4%EA%B2%B0\"><span class=\"toc-text\">â€¼ï¸ í•´ê²°</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Custom-DataSource-%EC%82%AC%EC%9A%A9\"><span class=\"toc-text\">Custom DataSource ì‚¬ìš©</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#RxDataSources-%EB%8C%80%EC%8B%A0-DiffableDataSources-%EC%82%AC%EC%9A%A9\"><span class=\"toc-text\">RxDataSources ëŒ€ì‹  DiffableDataSources ì‚¬ìš©</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-Section-%EC%A0%95%EC%9D%98\"><span class=\"toc-text\">1. Section ì •ì˜</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-Reactor-State-%EB%B3%80%EA%B2%BD\"><span class=\"toc-text\">2. Reactor State ë³€ê²½</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-DataSource%EC%97%90-%EB%B0%94%EC%9D%B8%EB%94%A9\"><span class=\"toc-text\">3. DataSourceì— ë°”ì¸ë”©</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}},"mapped":true,"prev_post":{"title":"01)ğŸŠ WWDC23 - What's new in UIKit","uid":"4932fe99e31aa6c7113fa36649ad4bc9","slug":"WWDC23/2023-06-07-WWDC23-01","date":"2023-06-06T15:00:00.000Z","updated":"2023-06-08T08:18:57.712Z","comments":true,"path":"api/articles/WWDC23/2023-06-07-WWDC23-01.json","keywords":null,"cover":"https://i.imgur.com/7ZMZmZ5.jpg","text":"WWDC23 - Whatâ€™s new in UIKitë“œë””ì–´ WWDC23ì˜ ë§‰ì´ ì—´ë ¸ìŠµë‹ˆë‹¤! ë‹¤ë“¤ VisionOS ì™€ Vision Pro ë³´ì…¨ë‚˜ìš”?? ë„ˆë¬´ë„ˆë¬´ ë†€ë¼ì›Œì„œ ë‹¹ì¥ì´ë¼ë„ ê³µë¶€í•˜ê³  ì‹¶ì€ ë§ˆìŒì´ ì»¸ì§€ë§Œ.. ìŠ¤ìœ ì™€ ARKitì„ ëª¨ë¥¸ë‹¤ë©´ ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜...","link":"","photos":[],"count_time":{"symbolsCount":"9.1k","symbolsTime":"8 mins."},"categories":[{"name":"WWDC23","slug":"WWDC23","count":1,"path":"api/categories/WWDC23.json"}],"tags":[{"name":"Swift","slug":"Swift","count":78,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":78,"path":"api/tags/iOS.json"},{"name":"WWDC23","slug":"WWDC23","count":1,"path":"api/tags/WWDC23.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}},"feature":true},"next_post":{"title":"27)ğŸ Swift - CollectionViewì˜ Cell/Viewì—ì„œì˜ subscribe ë¬¸ì œ","uid":"c1d9a7680cb448c25291810a696ba7e7","slug":"Swift/2023-04-12-Swift27","date":"2023-04-11T15:00:00.000Z","updated":"2023-04-12T11:34:37.195Z","comments":true,"path":"api/articles/Swift/2023-04-12-Swift27.json","keywords":null,"cover":"https://i.imgur.com/asYxn3y.png","text":"â“ CollectionViewì˜ HeaderViewë¥¼ êµ¬ë…í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œ ë°œìƒ HeaderViewì˜ ë²„íŠ¼ì„ tapí•˜ë©´ ë°”ì¸ë”©ëœ Actionì´ ì—¬ëŸ¬ë²ˆ ë°œìƒí•˜ëŠ” ë¬¸ì œ ë°œìƒ configureSupplementaryView: &#123; dataSourc...","link":"","photos":[],"count_time":{"symbolsCount":"4.6k","symbolsTime":"4 mins."},"categories":[{"name":"Swift","slug":"Swift","count":29,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":78,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":78,"path":"api/tags/iOS.json"},{"name":"Favor","slug":"Favor","count":6,"path":"api/tags/Favor.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}},"feature":true}}