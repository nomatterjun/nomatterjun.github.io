{"title":"24)ğŸ Swift - Moya","uid":"3792db1f46c6369b4473f92f8ea4160f","slug":"Swift/2023-02-26-Swift24","date":"2023-02-25T15:00:00.000Z","updated":"2023-03-31T10:45:09.491Z","comments":true,"path":"api/articles/Swift/2023-02-26-Swift24.json","keywords":null,"cover":[],"content":"<h1 id=\"Moya\"><a href=\"#Moya\" class=\"headerlink\" title=\"Moya\"></a>Moya</h1><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ëª¨ì•¼ê°€ ëŒ€ì²´ ëª¨ì•¼?</p></blockquote>\n<p>(ì•„ë§ˆ í•œêµ­ì¸ì´ ì‘ì„±í•œ ëª¨ì•¼ ê²Œì‹œë¬¼ 80%ëŠ” ì´ê±¸ë¡œ ì‹œì‘í• ë“¯â€¦)</p>\n<p>ê·¸ë˜ì„œ ëª¨ì•¼ëŠ” ë­˜ê¹Œìš”?</p>\n<p>MoyaëŠ” <code>enum</code> íƒ€ì…ì„ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë ˆì´ì–´ë¥¼ <code>type-safe</code>í•˜ê²Œ ë˜í•‘í•œ ë„¤íŠ¸ì›Œí‚¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.</p>\n<p>ì»´íŒŒì¼ íƒ€ì„ì— ì—”ë“œí¬ì¸íŠ¸ ì ‘ê·¼ ê´€ë ¨ ì—ëŸ¬ë¥¼ ë„ì›Œì£¼ê¸° ë•Œë¬¸ì— ë”ìš± ì•ˆì „í•˜ê³  ê°„í¸í•˜ê²Œ ì•±ì„ ë¹Œë“œí•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤ê³  í•´ìš”!</p>\n<h2 id=\"Alamofireì™€ì˜-ê´€ê³„\"><a href=\"#Alamofireì™€ì˜-ê´€ê³„\" class=\"headerlink\" title=\"Alamofireì™€ì˜ ê´€ê³„?\"></a>Alamofireì™€ì˜ ê´€ê³„?</h2><p>Swift ì–¸ì–´ë¥¼ ì²˜ìŒ í•™ìŠµí•  ë•Œ <code>URLSession</code>ì„ ê³µë¶€í•œ ë’¤ì— ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ëœ ìœ ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë§ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê³  ì–´ë–¤ ê²ƒì´ ìˆë‚˜ ì‚´í´ë³´ë˜ ë•Œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<p>ëª¨ë‘ê°€ ì•Œê³  ìˆëŠ” <code>Alamofire</code>, <code>Kingfisher</code>, <code>Moya</code> ë“±ì´ ìˆì—ˆì£ ..</p>\n<p>ê·¸ ì¤‘ì—ì„œ <code>Kingfisher</code>ëŠ” ì´ë¯¸ì§€ ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹ˆ ë‚¨ëŠ” ê±´ <code>Alamofire</code>ì™€ <code>Moya</code>ì˜€ìŠµë‹ˆë‹¤.</p>\n<p>ì•„ë¬´ê²ƒë„ ëª¨ë¥´ë˜ ì €ëŠ” <code>Moya</code>ì˜ ê·€ì—¬ìš´ ì´ë¦„ì— ëŒë ¤ ë¬´ì‘ì • ê³µë¶€ë¥¼ ì‹œì‘í–ˆë”ë©ì£ ..</p>\n<p>ë¬´ìŠ¨ ë§ì¸ì§€ í•˜ë‚˜ë„ ì´í•´í•˜ì§€ ëª»í•˜ê³  <code>Alamofire</code>ë¡œ í›„í‡´í–ˆì—ˆëŠ”ë°ìš”.. ë‹¹ì—°í•œê±°ì˜€ìŠµë‹ˆë‹¤.</p>\n<p><code>Moya</code>ì˜ ë„¤íŠ¸ì›Œí‚¹ì€ ì‚¬ì‹¤ <code>Alamofire</code>ì´ê¸° ë•Œë¬¸ì´ì£ â€¦!</p>\n<p><img src=\"https://i.imgur.com/nbxtcTj.png\"></p>\n<p>Dependencyì— ë–¡í•˜ë‹ˆ ë°•í˜€ìˆëŠ”ê²Œ ë³´ì´ì‹œì£ ..</p>\n<p><img src=\"https://i.imgur.com/sjBahL4.png\"></p>\n<p>ì‚¬ì‹¤ ê¹ƒí—ˆë¸Œ ì„¤ëª…ë€ì˜ ì´ë¯¸ì§€ì—ë„ <code>Alamofire</code>ê°€ í•˜ë‚˜ì˜ ê³„ì¸µì„ ë–¡í•˜ë‹ˆ ì¡ê³  ìˆëŠ” ê±¸ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤..</p>\n<h2 id=\"ê°œë…\"><a href=\"#ê°œë…\" class=\"headerlink\" title=\"ê°œë…\"></a>ê°œë…</h2><p>ëª¨ì•¼ë¥¼ ì´í•´í•˜ë ¤ë©´ ì„¸ ê°€ì§€ í•µì‹¬ ìš”ì†Œë¥¼ ë¨¼ì € ì•Œì•„ì•¼í•©ë‹ˆë‹¤.</p>\n<h3 id=\"Provider\"><a href=\"#Provider\" class=\"headerlink\" title=\"Provider\"></a>Provider</h3><p><code>MoyaProvider</code> ê°ì²´ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë©”ì¸ ê°ì²´ì…ë‹ˆë‹¤.</p>\n<p>ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¬´ì¡°ê±´ ì´ <code>MoyaProvider</code> ê°ì²´ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ì£¼ì…ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.</p>\n<h3 id=\"Target\"><a href=\"#Target\" class=\"headerlink\" title=\"Target\"></a>Target</h3><p>APIë¥¼ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ë¶€ë¥´ëŠ” ëª…ì¹­ì…ë‹ˆë‹¤.</p>\n<p>ê³µê°œëœ ì˜¤í”ˆ APIì¼ ìˆ˜ë„ ìˆê³ , í”„ë¡œì íŠ¸ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì„œë²„ì˜ APIì¼ ìˆ˜ë„ ìˆê² ì£ .</p>\n<p>ì´ <code>Target</code>ì€ <code>TargetType</code> <code>protocol</code>ì„ ì‚¬ìš©í•´ì„œ ì •ì˜í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"Endpoint\"><a href=\"#Endpoint\" class=\"headerlink\" title=\"Endpoint\"></a>Endpoint</h3><p><code>Endpoint</code>ëŠ” ë„¤íŠ¸ì›Œí‚¹ ìš”ì²­ì„ ìœ„í•´ í•„ìš”í•œ ì •ë³´ë“¤ì„ ë‹´ëŠ” ê°ì²´ì…ë‹ˆë‹¤.</p>\n<p>HTTP ë©”ì„œë“œ, request body &#x2F; header ë“±ì˜ ì •ë³´ë“¤ì„ ë‹´ê³  ìˆê³ , <code>Target</code> ë˜í•œ <code>MoyaProvider</code>ì— ì˜í•´ ì´ <code>Endpoint</code>ë¡œ ë³€í™˜ë˜ì–´ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>\n<p>ì´ <code>Endpoint</code>ë¥¼ ì»¤ìŠ¤í…€í•˜ë©´ ëª¨ë“  ì¢…ë¥˜ì˜ ë„¤íŠ¸ì›Œí‚¹ì— í•„ìš”í•œ ë°ì´í„° ë§µí•‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ê³  í•˜ë„¤ìš”.</p>\n<h2 id=\"ê¸°ì´ˆ\"><a href=\"#ê¸°ì´ˆ\" class=\"headerlink\" title=\"ê¸°ì´ˆ\"></a>ê¸°ì´ˆ</h2><p>ê³µì‹ ë¬¸ì„œë³´ë‹¤ëŠ” ì½”ë°ì½”ì˜ ì˜ˆì œê°€ ì‰¬ì›Œë³´ì´ë‹ˆê¹Œ ì½”ë°ì½”ì˜ ì˜ˆì œë¡œ ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">public enum Marvel &#123;\nÂ  static private let publicKey &#x3D; &quot;PUBLIC_KEY&quot;\nÂ  static private let privateKey &#x3D; &quot;PRIVATE_KEY&quot;\n\nÂ  case comics\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì´ë ‡ê²Œ <code>enum</code> íƒ€ì…ìœ¼ë¡œ API ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ë„£ì–´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><code>case</code>ì—ëŠ” í•„ìš”í•œ API ì—”ë“œí¬ì¸íŠ¸ë§ˆë‹¤ ì •ì˜í•´ì£¼ë©´ ë©ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">enum MyService &#123;\n    case zen\n    case showUser(id: Int)\n    case createUser(firstName: String, lastName: String)\n    case updateUser(id: Int, firstName: String, lastName: String)\n    case showAccounts\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì´ë ‡ê²Œìš”..!</p>\n<p>ì—°ê´€ê°’ìœ¼ë¡œ ë„£ì–´ì¤€ íŒŒë¼ë¯¸í„°ë“¤ì€ ë¦¬í€˜ìŠ¤íŠ¸ì‹œì— íŒŒë¼ë¯¸í„°ê°€ í•„ìš”í•  ê²½ìš° ë„£ì–´ì£¼ëŠ” ê²ƒìœ¼ë¡œ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><code>Target</code>ìœ¼ë¡œ ì‚¬ìš©ë  <code>enum</code>ì€ ë°˜ë“œì‹œ <code>TargetType</code> í”„ë¡œí† ì½œì„ ì±„íƒí•´ì•¼ í•œë‹¤ê³  í–ˆì—ˆì£ ?</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">extension Marvel: TargetType &#123;\nÂ  public var baseURL: URL &#123;\n\t&#x2F;&#x2F;\nÂ  &#125;\n\nÂ  public var path: String &#123;\n\t&#x2F;&#x2F;\nÂ  &#125;\n\nÂ  public var method: Moya.Method &#123;\n\t&#x2F;&#x2F;\nÂ  &#125;\n\nÂ  public var sampleData: Data &#123;\n\t&#x2F;&#x2F;\nÂ  &#125;\n\nÂ  public var task: Moya.Task &#123;\n\t&#x2F;&#x2F;\nÂ  &#125;\n\nÂ  public var headers: [String : String]? &#123;\n\t&#x2F;&#x2F;\nÂ  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>í”„ë¡œí† ì½œì„ ì±„íƒí•˜ê³  í•„ìš”í•œ í”„ë¡œí¼í‹°ë“¤ì„ ìë™ìœ¼ë¡œ ë„£ì–´ì£¼ë©´ ìœ„ì™€ ê°™ì€ í˜•íƒœê°€ ë©ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">extension Marvel: TargetType &#123;\nÂ  public var baseURL: URL &#123;\nÂ  Â  return URL(string: &quot;https:&#x2F;&#x2F;gateway.marvel.com&#x2F;v1&#x2F;public&quot;)!\nÂ  &#125;\n\nÂ  public var path: String &#123;\nÂ  Â  switch self &#123;\nÂ  Â  case .comics: return &quot;&#x2F;comics&quot;\nÂ  Â  &#125;\nÂ  &#125;\n\nÂ  public var method: Moya.Method &#123;\nÂ  Â  switch self &#123;\nÂ  Â  case .comics: return .get\nÂ  Â  &#125;\nÂ  &#125;\n\nÂ  public var sampleData: Data &#123;\nÂ  Â  return Data()\nÂ  &#125;\n\nÂ  public var task: Moya.Task &#123; &#x2F;&#x2F; TODO: ì•Œë§ëŠ” ì˜µì…˜ìœ¼ë¡œ ë³€ê²½\nÂ  Â  return .requestPlain\nÂ  &#125;\n\nÂ  public var headers: [String : String]? &#123;\nÂ  Â  return [&quot;Content-Type&quot;: &quot;application&#x2F;json&quot;]\nÂ  &#125;\n\nÂ  public var validationType: ValidationType &#123;\nÂ  Â  return .successCodes\nÂ  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<h3 id=\"baseURL\"><a href=\"#baseURL\" class=\"headerlink\" title=\"baseURL\"></a>baseURL</h3><p>API ì„œë¹„ìŠ¤ì˜ <code>baseURL</code>ì„ ì…ë ¥í•´ì¤ë‹ˆë‹¤.</p>\n<h3 id=\"path\"><a href=\"#path\" class=\"headerlink\" title=\"path\"></a>path</h3><p><code>baseURL</code> ë’¤ì— ë¶™ëŠ” ìš”ì²­ APIì˜ <code>path</code> ì£¼ì†Œë¥¼ ì…ë ¥í•´ì¤ë‹ˆë‹¤.</p>\n<p>ì˜ˆì‹œì˜ ê²½ìš° ì „ì²´ API ìš”ì²­ ì£¼ì†ŒëŠ” <a href=\"https://gateway.marvel.com/v1/public/comics\">https://gateway.marvel.com/v1/public/comics</a> ê°€ ë˜ê² ì£ !</p>\n<h3 id=\"method\"><a href=\"#method\" class=\"headerlink\" title=\"method\"></a>method</h3><p><code>path</code>ì— ë§ëŠ” HTTPS í†µì‹  ë©”ì„œë“œë¥¼ ë°˜í™˜í•´ì¤ë‹ˆë‹¤.</p>\n<p>ex) <code>.get</code>, <code>.delete</code>, <code>.patch</code> ë“±</p>\n<h3 id=\"sampleData\"><a href=\"#sampleData\" class=\"headerlink\" title=\"sampleData\"></a>sampleData</h3><p>ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ í•  ë•Œë‚˜ ì‹¤ì œë¡œ ì„œë²„ê°€ ì—†ì„ ê²½ìš°, ì´ <code>sampleData</code>ë¡œ ê°€ìƒì˜ ë°ì´í„°ë¥¼ ë‹´ì•„ì£¼ë©´ í•´ë‹¹ ë°ì´í„°ë¥¼ ë°˜í™˜ê°’ìœ¼ë¡œ ë°›ì•„ì˜µë‹ˆë‹¤.</p>\n<p>í•„ìš”í•˜ì§€ ì•Šì„ ê²½ìš°  <code>Data()</code>ë¥¼ ë°˜í™˜í•˜ì—¬ ë¹„ì–´ìˆëŠ” ë°ì´í„°ë¥¼ ì „ë‹¬í•´ì¤ë‹ˆë‹¤!</p>\n<h3 id=\"task\"><a href=\"#task\" class=\"headerlink\" title=\"task\"></a>task</h3><p>ìš”ì²­ì— íŒŒë¼ë¯¸í„°ë¥¼ í¬í•¨í•˜ê±°ë‚˜, ë°ì´í„°ë¥¼ í¬í•¨í•˜ì—¬ ìš”ì²­ì„ í•˜ëŠ” ë“±ì˜ ì˜µì…˜ë“¤ì„ ì¶”ê°€ì ìœ¼ë¡œ ì œê³µí•˜ì—¬ HTTP ìš”ì²­ì„ ì „ì†¡í•©ë‹ˆë‹¤.</p>\n<p>APIê°€ ìš”êµ¬í•˜ëŠ” ì–‘ì‹ì´ë‚˜ ì„œë²„ì˜ ìƒíƒœë“±ì— ë”°ë¼ ë„ˆë¬´ë‚˜ ë‹¤ì–‘í•œ ê²½ìš°ê°€ ìˆìœ¼ë¯€ë¡œ ìš°ì„  ì•„ë¬´ëŸ° ì˜µì…˜ì„ ë„£ì§€ ì•ŠëŠ” <code>.requestPlain</code>ì„ ì„ íƒí•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"headers\"><a href=\"#headers\" class=\"headerlink\" title=\"headers\"></a>headers</h3><p>HTTP í—¤ë”ë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤.</p>\n<p>ì˜ˆì‹œì—ì„œëŠ” ê°€ì¥ ìì£¼ ì“°ì´ëŠ” <code>Content-Type: application/json</code>ì„ ë„£ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤. (JSON í˜•ì‹ì˜ ì»¨í…íŠ¸)</p>\n<h3 id=\"validationType\"><a href=\"#validationType\" class=\"headerlink\" title=\"validationType\"></a>validationType</h3><p>í•„ìˆ˜ì ìœ¼ë¡œ í•„ìš”í•œ í•­ëª©ì€ ì•„ë‹ˆì§€ë§Œ, ìì£¼ ì“°ì´ëŠ” í•­ëª©ì…ë‹ˆë‹¤.</p>\n<p><code>.successCodes</code>ëŠ” 200..&lt;299 ì‚¬ì´ì˜ ì‘ë‹µ ì½”ë“œë¥¼ ë°›ìœ¼ë©´ í†µì‹ ì„ ì„±ê³µí–ˆë‹¤ê³  ì²˜ë¦¬í•˜ëŠ” <code>case</code>ì…ë‹ˆë‹¤.</p>\n<p>ì´ <code>Target</code>ë§Œ ë´ë„ <code>Moya</code>ê°€ ëŒ€ì¶© ì–´ë–¤ ëŠë‚Œìœ¼ë¡œ ì“°ì´ëŠ” ì§€ ì•Œ ìˆ˜ ìˆì„ ê²ƒ ê°™ë„¤ìš”.</p>\n<p>í†µì‹ ì— í•„ìš”í•œ ë°ì´í„°ë“¤ì„ í•œ êµ°ë° ëª¨ì•„ë‘ê³  <code>switch-case</code>ë¥¼ í†µí•´ì„œ ì‰½ê²Œ ìš”ì²­ í•­ëª©ì„ ì„ íƒí•  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>\n<p><a href=\"https://developer.marvel.com/documentation/authorization\">https://developer.marvel.com/documentation/authorization</a></p>\n<p>ì´ë²ˆì— ì‚¬ìš©í•˜ëŠ” ë§ˆë¸” APIì˜ ë¬¸ì„œë¥¼ ì‚´í´ë³´ê³ , <code>task</code> ë¶€ë¶„ì„ ì±„ì›Œì¤ì‹œë‹¤.</p>\n<p>Client-Side ì•±ì€ ì‚¬ì „ì— ì¸ì¦ì´ ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤ëŠ”êµ°ìš”.</p>\n<p>Server-Side ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•´ì¤ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">public var task: Task &#123;\n  let ts &#x3D; &quot;\\(Date().timeIntervalSince1970)&quot;\n  let hash &#x3D; (ts + Marvel.privateKey + Marvel.publicKey).md5\n  let authParams &#x3D; [&quot;apikey&quot;: Marvel.publicKey, &quot;ts&quot;: ts, &quot;hash&quot;: hash]\n  \n  switch self &#123;\n  case .comics:\n\treturn .requestParameters(\n\t  parameters: [\n\t\t&quot;format&quot;: &quot;comic&quot;,\n\t\t&quot;formatType&quot;: &quot;comic&quot;,\n\t\t&quot;orderBy&quot;: &quot;-onsaleDate&quot;,\n\t\t&quot;dateDescriptor&quot;: &quot;lastWeek&quot;,\n\t\t&quot;limit&quot;: 50] + authParams,\n\t  encoding: URLEncoding.default)\n  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì´ì œ ì‹¤ì œë¡œ API requestë¥¼ ë³´ë‚´ë´…ì‹œë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">let provider &#x3D; MoyaProvider&lt;Marvel&gt;()\n\nprovider.request(.comics) &#123; result in\n  switch result &#123;\n  case .success(let response):\n\tdo &#123;\n\t  print(try response.mapJSON())\n\t&#125; catch &#123;\n\t  &#x2F;&#x2F; error handling\n\t&#125;\n  case .failure:\n\t&#x2F;&#x2F; error handling\n  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ìœ„ì™€ ê°™ì´ ì§§ê³  ê°„ê²°í•˜ê²Œ í†µì‹  ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://i.imgur.com/vxiOPZu.png\"></p>\n<p>ì—„ì²­ë‚˜ê²Œ ë§ì€ ë°ì´í„°ë“¤ì´ ë“¤ì–´ì˜¤ëŠ”êµ°ìš”..</p>\n<p>ì´ ë°ì´í„°ë“¤ì„ ê°ì‹¸ê³  <code>View</code>ì— ì ìš©í•˜ëŠ” ë‚´ìš©ì€ ë‹¤ë¥¸ HTTP í†µì‹ ë“¤ê³¼ ê°™ìŠµë‹ˆë‹¤.</p>\n<p><code>Moya</code>ëŠ” RxSwiftì™€ë„ ì•„ì£¼ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">provider.rx.requestWithProgress(.zen).subscribe &#123; event in\n    switch event &#123;\n    case .next(let progressResponse):\n        if let response &#x3D; progressResponse.response &#123;\n            &#x2F;&#x2F; do something with response\n        &#125; else &#123;\n            print(&quot;Progress: \\(progressResponse.progress)&quot;)\n        &#125;\n    case .error(let error):\n        &#x2F;&#x2F; handle the error\n    default:\n        break\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>ì´ëŸ°ì‹ìœ¼ë¡œ ê¸°ë³¸ì ìœ¼ë¡œ Rxí™”ë„ ë˜ì–´ìˆê±°ë“ ìš”. (íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•  ë•Œ <code>Moya/RxSwift</code>ë„ í•¨ê»˜ ì„¤ì¹˜í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.)</p>\n<p>ëŒ€ëµì ì¸ ì‚¬ìš© ë°©ë²•ì„ ì•Œì•˜ìœ¼ë‹ˆ ì‹¤ì „ì— ì ìš©í•´ë³´ê¸° ìœ„í•´ ë– ë‚˜ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ì°¸ê³  ë¬¸ì„œ</p></blockquote>\n<p><a href=\"https://www.kodeco.com/5121-moya-tutorial-for-ios-getting-started\">Kodeco - # Moya Tutorial for iOS: Getting Started</a></p>\n<p><a href=\"https://github.com/Moya/Moya/blob/master/docs/Examples/Basic.md\">Moya - Basic Usage</a></p>\n","text":"Moya ëª¨ì•¼ê°€ ëŒ€ì²´ ëª¨ì•¼? (ì•„ë§ˆ í•œêµ­ì¸ì´ ì‘ì„±í•œ ëª¨ì•¼ ê²Œì‹œë¬¼ 80%ëŠ” ì´ê±¸ë¡œ ì‹œì‘í• ë“¯â€¦) ê·¸ë˜ì„œ ëª¨ì•¼ëŠ” ë­˜ê¹Œìš”? MoyaëŠ” enum íƒ€ì…ì„ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë ˆì´ì–´ë¥¼ type-safeí•˜ê²Œ ë˜í•‘í•œ ë„¤íŠ¸ì›Œí‚¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì»´íŒŒì¼ íƒ€...","link":"","photos":[],"count_time":{"symbolsCount":"5.8k","symbolsTime":"5 mins."},"categories":[{"name":"Swift","slug":"Swift","count":26,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":74,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":74,"path":"api/tags/iOS.json"},{"name":"Moya","slug":"Moya","count":1,"path":"api/tags/Moya.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Moya\"><span class=\"toc-text\">Moya</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Alamofire%EC%99%80%EC%9D%98-%EA%B4%80%EA%B3%84\"><span class=\"toc-text\">Alamofireì™€ì˜ ê´€ê³„?</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%EA%B0%9C%EB%85%90\"><span class=\"toc-text\">ê°œë…</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Provider\"><span class=\"toc-text\">Provider</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Target\"><span class=\"toc-text\">Target</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Endpoint\"><span class=\"toc-text\">Endpoint</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%EA%B8%B0%EC%B4%88\"><span class=\"toc-text\">ê¸°ì´ˆ</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#baseURL\"><span class=\"toc-text\">baseURL</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#path\"><span class=\"toc-text\">path</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#method\"><span class=\"toc-text\">method</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#sampleData\"><span class=\"toc-text\">sampleData</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#task\"><span class=\"toc-text\">task</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#headers\"><span class=\"toc-text\">headers</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#validationType\"><span class=\"toc-text\">validationType</span></a></li></ol></li></ol></li></ol>","author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}},"mapped":true,"prev_post":{"title":"21)ğŸ Swift - Compositional Layout.01","uid":"8bbfe0d3b3501508bfc41548ddec18f1","slug":"Swift/2023-01-29-Swift21","date":"2023-01-28T15:00:00.000Z","updated":"2023-03-31T10:45:49.915Z","comments":true,"path":"api/articles/Swift/2023-01-29-Swift21.json","keywords":null,"cover":[],"text":"Compositional Layout ë†’ì€ ë°˜ì‘ì„±ì„ ê°–ê³  ìœ ì—°í•œ UI ì¡°ì •ì´ ê°€ëŠ¥í•œ itemë“¤ì„ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë ˆì´ì•„ì›ƒì…ë‹ˆë‹¤. ì• í”Œì´ Compositional Layoutì„ ì†Œê°œí•˜ë©´ì„œ ëŒ€í‘œì ìœ¼ë¡œ ì˜ˆì‹œë¥¼ ë“  ì•±ì´ App Storeì™€ ì‚¬ì§„ ì•±ì…ë‹ˆë‹¤. ...","link":"","photos":[],"count_time":{"symbolsCount":"9.5k","symbolsTime":"9 mins."},"categories":[{"name":"Swift","slug":"Swift","count":26,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":74,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":74,"path":"api/tags/iOS.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}},"feature":true},"next_post":{"title":"23)ğŸ Swift - RxSwift Traits","uid":"2f437dcacf2ab858ae6b89a9091808ec","slug":"Swift/2023-02-23-Swift23","date":"2023-02-22T15:00:00.000Z","updated":"2023-03-31T10:45:36.146Z","comments":true,"path":"api/articles/Swift/2023-02-23-Swift23.json","keywords":null,"cover":null,"text":"TraitsTraitsëŠ” Observableì˜ í•œ ì¢…ë¥˜ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. TraitsëŠ” UI ì˜ì—­ì—ì„œ ë³µì¡í•˜ê³  ë‹¤ì–‘í•œ ê¸°ëŠ¥ì´ ìˆëŠ” Observable ëŒ€ì‹  ì‚¬ìš©ë˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ë”°ë¼ì„œ RxCocoaì™€ ì•„ì£¼ ë°€ì ‘í•œ ê´€ë ¨ì´ ìˆì§€ë§Œ, ëª‡ëª‡ ê¸°ëŠ¥...","link":"","photos":[],"count_time":{"symbolsCount":"7.5k","symbolsTime":"7 mins."},"categories":[{"name":"Swift","slug":"Swift","count":26,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":74,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":74,"path":"api/tags/iOS.json"},{"name":"RxSwift","slug":"RxSwift","count":2,"path":"api/tags/RxSwift.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹ <br/> ë°”ìœ í˜„ëŒ€ì¸ë“¤ì˜ ì¼ìƒì— <br/> ì‘ì€ ë³€í™”ë¥¼ ì‹¬ê³  ì‹¶ì€ ê°œë°œì <br/> ì´ì°½ì¤€ì…ë‹ˆë‹¤.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}}}}